(globalThis.webpackChunkCE2=globalThis.webpackChunkCE2||[]).push([[806,60],{5096:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AssetTracker:()=>lr,EventHandlers:()=>hr,compress:()=>Bt,fp:()=>ur,timing:()=>W});const s="[\\s\\u00a0\\u2028\\u2029]+";let i;if("undefined"!=typeof Intl&&Intl.Segmenter)try{i=new Intl.Segmenter}catch(t){}const n={whitespace:new RegExp(s,"g"),strip:new RegExp(`^${s}|${s}$`,"g"),href:/\bhref="(.*?)"/i,ipHost:/^([\d\.]+|\[[a-f\d:]+\])$/i,allChars:/\p{RI}\p{RI}|\p{Emoji}(\p{EMod}|\u{FE0F}\u{20E3}?|[\u{E0020}-\u{E007E}]+\u{E007F})?(\u{200D}\p{Emoji}(\p{EMod}|\u{FE0F}\u{20E3}?|[\u{E0020}-\u{E007E}]+\u{E007F})?)*|./gsu};function o(t,e){const r=t.replace(n.strip,"");return e?r.replace(n.whitespace," "):r}const a=2048,c=65535-a;const l=`cesrk${Math.random().toString().replace(/\D/g,"")}`;function h(t){let e;const r=(t=t||window).document;return t[`${l}_path`]!==t.location.pathname&&(t[l]=function(t){const e=t.defaultView,r=t.documentElement;if(r.scrollHeight>e.innerHeight)return t.scrollingElement?t.scrollingElement:"BackCompat"===t.compatMode?t.body:r;if(!t.querySelectorAll||"number"!=typeof t.body.scrollHeight)return;const{body:s}=t,i=Array.from(t.querySelectorAll("html, body, body *")).filter((t=>!t.ownerSVGElement)),n=s.getElementsByTagName("*").length;let o,a,c,l;for(o=0,a=Math.min(7e3,i.length);o<a;o++)if(c=i[o],!(c.clientHeight>=c.scrollHeight)&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)&&!(c.getElementsByTagName("*").length/n<.5||c.clientHeight>window.innerHeight||(l=c.getBoundingClientRect(),Math.floor(l.width||l.right-l.left)<.75*e.innerWidth||Math.floor(l.height||l.bottom-l.top)<.75*e.innerHeight)))return c}(r),t[`${l}_path`]=t.location.pathname),e=t[l],e=e||("BackCompat"===r.compatMode?r.body:r.documentElement),{left:e.scrollLeft,top:e.scrollTop,width:t.innerWidth,height:t.innerHeight}}const u={};u.opera=u.ie=u.chrome=u.safari=u.firefox=!1,u.browser="unknown";const d="undefined"!=typeof window?window:{},p="undefined"!=typeof navigator?navigator:{},f=p.userAgent;function m(t,e){const r=Math.min(e.width,e.height),s=o(t.coords,!0).split(/[^\d\.%]+/).map((t=>function(t,e){let r=parseInt(t,10);return-1!=t.indexOf("%")&&(r*=.01*e),isNaN(r)?null:r}(t,r)));let i,n,a;if(!/circle/i.test(t.shape)){i=[],n=[];for(let t=0,e=s.length;t<e;t++)t%2?n.push(s[t]):i.push(s[t]);const t=Math.min.apply(null,i),e=Math.max.apply(null,i),r=Math.min.apply(null,n);return{left:t,top:r,width:e-t,height:Math.max.apply(null,n)-r}}if(s.length>=3)return[i,n,a]=s,{left:i-a,top:n-a,width:2*a,height:2*a}}function g(t){const e=function(t){const e=new RegExp(`(^|#)${t.parentNode.name}`,"i"),r=t.ownerDocument.getElementsByTagName("IMG");let s,i;for(s=0;i=r[s++];)if(e.test(i.useMap))return i}(t);if(!e)return;const r=E(e),s=m(t,r);return s?{left:r.left+s.left,top:r.top+s.top,width:s.width,height:s.height}:void 0}function E(t,e,r,{usePseudo:s=!1}={}){let i;if(e=e||{},"AREA"==t.nodeName)i=g(t),i&&(e.left=i.left,e.top=i.top,e.width=i.width,e.height=i.height);else if(t.getBoundingClientRect){i=t.getBoundingClientRect();const r=h();if(e.left=Math.floor(i.left+r.left),e.top=Math.floor(i.top+r.top),u.webkit&&u.webkitVersion<533&&"relative"==t.style.position&&(e.left+=parseInt(t.style.left,10),e.top+=parseInt(t.style.top,10)),e.width=Math.floor(i.width||i.right-i.left),e.height=Math.floor(i.height||i.bottom-i.top),s&&(0===e.width||0===e.height)){const r=function(t){let e,r;for(let s=0,i=["::before","::after"];s<i.length;s++){const n=i[s],o=getComputedStyle(t,n);if([e,r]=[parseFloat(o.width),parseFloat(o.height)],e&&r)break}return{width:e,height:r}}(t);r.width&&r.height&&(e.width=r.width,e.height=r.height)}}else{e.width=t.offsetWidth,e.height=t.offsetHeight;let r=t,s=0,i=0;do{s+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent}while(r);e.left=Math.floor(s),e.top=Math.floor(i)}if(e.pageX=e.left,e.pageY=e.top,r){const t=E(r);e.left-=t.pageX,e.top-=t.pageY}return e}function v(t){return"FONT"===t.nodeName&&(1===t.children.length&&"FONT"===t.firstElementChild?.nodeName?v(t.firstElementChild):0===t.children.length&&(!(!t.parentElement||"FONT"!==t.parentNode.nodeName)&&!!Array.from(t.childNodes).every((t=>t.nodeType===Node.TEXT_NODE))))}d.opera&&"function"==typeof d.opera.version?(u.browser="opera",u.opera=!0,u.operaVersion=parseInt(d.opera.version(),10)):/\bMSIE\b/.test(f)?(u.browser="ie",u.ie=!0,u.ieVersion=parseInt(/MSIE (\d+)\.\d+/.exec(p.userAgent)[1],10),u.ieQuirksMode="BackCompat"==document.compatMode):/\b(iPhone|iP[ao]d)\b/.test(f)?(u.browser="iphone",u.iphone=!0,u.webkit=!0):/\bChrome\b/.test(f)?(u.browser="chrome",u.chrome=!0,u.webkit=!0):/AppleWebKit/.test(p.appVersion)?(u.browser="safari",u.safari=!0,u.webkit=!0):/Mozilla/i.test(f)&&!/compatible|webkit/i.test(f)&&(u.browser="firefox",u.firefox=!0),u.webkit&&(u.webkitVersion=parseInt(/AppleWebKit\/(\d+)/.exec(f)[1],10));const C=function(t){if(this.src=t,this.protocol=this.host=this.port=this.path=this.qs=this.hash=this.query=null,t){const e=typeof t;"string"==e?this.initWithString(t):"object"==e&&this.initWithURI(t)}};function y(t){try{return decodeURIComponent(t)}catch(e){return window.unescape(t)}}C.pattern=/^\s*([\S]+?:\/\/)?([^\s\/]+?@)?([^:\/\?\#]+)?(\:\d+)?(\/?[^#\?\s]*)?([\?][^#\s]*)?([#]\S+)?/i,C.prototype={initWithString(t){const e=C.pattern.exec(t),[r,s,i,n,o,a,c,l]=e;s||"/"==t.charAt(0)?(s&&(this.protocol=s.substr(0,s.indexOf(":"))),this.host=n||null,o&&(this.port=Number(o.substr(1))),a?this.path=y(a):this.host&&(this.path="/")):this.path=y((n||"")+(a||"")),c&&(this.qs=function(t,e){if(null==t||/^\s*$/.test(t))return null;const r={};let s=null;const i=t.replace(/\+/g," ").split(e||"&");let n,o;for(n=0,o=i.length;n<o;n++)s=i[n].split("="),s[0]&&(r[y(s[0])]=null==s[1]?null:y(s[1]));return r}(c.substr(1)),this.query=c.substr(1)),l&&(this.hash=y(l.substr(1)))},initWithURI(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this[e]=t[e])},isAbsolute(){return this.isURL()||this.path&&"/"==this.path.charAt(0)},isURL(){return this.protocol&&this.host},getDomain(){return this.host&&this.host.replace(/^(www|m)\./,"")},getHost(){return this.host+(this.port?`:${this.port}`:"")},getOrigin(){return`${this.protocol}://${this.getHost()}`},getFullUrl(){const t=this.query?`?${this.query}`:"";return`${this.getOrigin()}${this.path}${t}`},join(t){const e=new C(this);let{path:r}=this;return"string"==typeof t&&(t=new C(t)),t.isURL()?new C(t):(t.isAbsolute()?r=t.path:r?(r=r.split("/"),r.pop(),r=t.path?r.concat(t.path.split("/")):r,r=r.join("/")):r=this.isURL()?`/${t.path}`:t.path,e.path=r,e.qs=t.qs,e.hash=t.hash,e)},normalize(){if(!this.path)return;let t;u.ie&&u.ieVersion<9?(t=[],"/"==this.path.charAt(0)&&t.push(""),t=t.concat(this.path.split(/\/+/g)),"/"==this.path.charAt(this.path.length-1)&&t.push("")):t=this.path.split(/\/+/g);let e,r=0;do{if(e=t.length-1,".."==t[r+1])""==t[r]&&0==r?t.splice(r+1,1):(t.splice(r,2),r-=1);else if("."==t[r]){if(0==e)break;t.splice(r,1)}else r++}while(r<=e);this.path=t.join("/")},simplify(t){let e;const r=[];if(e="file"==this.protocol?this:u.ie?t?t.join(this):this:(t=t||new C(window.document.baseURI)).join(this),e.normalize(),e.host&&r.push(e.host.replace(/^(www|m)\./,"")),null!=e.port&&r.push(`:${e.port}`),"/"==e.path||/^\/(default|home|index)\b[^\/]*$/i.test(e.path)?(e.qs||e.hash)&&r.push("/"):r.push(e.path),e.qs){const t=[];for(const r in e.qs)e.qs[r]&&!/(^sess|^sid$|^phpsessid$|^jsessionid$|^__VIEWSTATE$)/i.test(r)&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e.qs[r])}`);t.length&&r.push(`?${t.join("&")}`)}return e.hash&&r.push(`#${e.hash}`),r.join("")}};const b={a:3,abbr:4,acronym:5,address:6,applet:7,area:8,b:9,base:10,basefont:11,bdo:12,big:13,blockquote:14,body:15,br:16,button:17,caption:18,center:19,cite:20,code:21,col:22,colgroup:23,dd:24,del:25,dfn:26,dir:27,div:28,dl:29,dt:30,em:31,fieldset:32,font:33,form:34,frame:35,frameset:36,head:37,h1:38,h2:38,h3:38,h4:38,h5:38,h6:38,hr:38,html:39,i:40,iframe:41,img:42,input:43,ins:44,kbd:45,label:46,legend:47,li:48,link:49,map:50,menu:51,meta:52,noframes:53,noscript:54,object:55,embed:55,ol:56,optgroup:57,option:58,p:59,param:60,pre:61,q:62,s:63,samp:64,script:65,select:66,small:67,span:68,strike:69,strong:70,style:71,sub:72,sup:73,table:74,tbody:75,td:76,textarea:77,tfoot:78,th:79,thead:80,title:81,tr:82,tt:83,u:84,ul:85,var:86,article:87,aside:88,audio:89,bdi:90,canvas:91,command:92,details:93,figcaption:94,figure:95,footer:96,header:97,hgroup:98,keygen:99,mark:100,meter:101,nav:102,output:103,progress:104,rp:105,rt:106,ruby:107,section:108,summary:109,time:110,video:111,svg:112,"(custom)":255},w=CE2BH.extends({},b,{main:113});let k=7;const T=/(-|^)(default|open|hover|close|error|active|focus|valid|invalid|dirty|submitted|expand|collapse|hide|show|enable|disable|on|off|yui|ui)/i,S=/^\s*javascript:|^\s*#\s*$/;function A(t,e=100){if("TEXTAREA"!=t.nodeName)return function(t,e,r=!1){const s="function"==typeof t.normalize?t.normalize("NFC"):t;let o;return o=i&&!r?[...i.segment(s)].map((t=>t.segment)):[...s.matchAll(n.allChars)].map((t=>t[0])),o.slice(0,e).join("")}(o(function(t){const e=void 0===t.textContent?"innerText":"textContent";let r=t[e].substr(0,16384);function s(t,r){let s,i;for(s=0;i=r[s++];)t=t.replace(i[e],"");return t}return r=s(r,t.getElementsByTagName("SCRIPT")),r=s(r,t.getElementsByTagName("NOSCRIPT")),r}(t),!0),e)}function _(t){if(!u.ie)return t.getAttribute("href");{const e=t.outerHTML.match(n.href);if(e)return o(e[1])}}function I(t){return/^\s*data:/.test(t)?o(t).substr(0,100):new C(t).simplify()}function O(t){const e=function(t){let e=t.className;if(e&&"string"==typeof e)return e=o(e.replace(/(\s|^)-ce-capture\b/g,"")).split(/\s+/),e.sort(),e.join(" ")}(t);if(!e||k<=6)return e;const r=[];for(let t=0,s=e.split(/\s+/);t<s.length;t++){const e=s[t];e&&!T.test(e)&&r.push(e)}return r.join(" ")}function N(t){let e,r;return(e=t.getAttribute("cename"))||(e=t.getAttribute("ceid"))||(e=t.getAttribute("title"))||(e=t.getAttribute("alt"))||(e=t.getAttribute("name"))||"A"==t.nodeName&&(e=A(t))?e:(e=_(t))&&(r=_(t),r&&!S.test(r))?new C(e).simplify():(e=t.getAttribute("src"))?I(e):(e=A(t))||(e=t.getAttribute("id"))||(e=O(t))?e:""}function R(t){if("string"==typeof t)return t;const e=t.toString(16);return e.length%2!=0?`0${e}`:e}function L(t,e){if("AREA"===t.nodeName)return!0;const r=(s=t,window.getComputedStyle?window.getComputedStyle.call(window,s,null):s.currentStyle);var s;if("none"===r.display)return!1;if(!e&&"hidden"===r.visibility)return!1;const i=t.getBoundingClientRect();if(!["static","sticky"].includes(r.position)&&("visible"!==r.overflowX||"visible"!==r.overflowY)&&(i.width<.1||i.height<.1))return!1;const n=t.parentElement,o=[t.ownerDocument.body,t.ownerDocument.documentElement];return!(n&&!o.includes(n))||L(t.parentElement,!0)}const M={SCRIPT:0,NOSCRIPT:0,STYLE:0,LINK:0},P=CE2BH.extends({},M,{TEMPLATE:0}),x=CE2BH.extends({},P,{META:0,SOURCE:0}),D="#document-fragment";function B(t=11){return t>=16?x:t>=13?P:12===t?M:null}function U(t){return"string"==typeof t?`[${R(function(t){const e=2147483648+function(t){let e=0;if(0==t.length)return e;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}(t);return a+e%c}(t))}]`:R(t)}function F(t,e=11){const r=t.nodeName.toLowerCase(),s=function(t=11){return t>=13?w:b}(e)[r]||0;return 0===s&&e>=13?r:s}function $(t){const e=[];let r,s,i="";for(let s=0,i=t.length;s<i;s++){const i=t[s];i.type===(r&&r.type)&&i.relation===r.relation?e[e.length-1].count++:e.push({type:i.type,relation:i.relation,count:1}),r=i}for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r.relation&&r.relation!==s&&(i+=1===r.relation?"^":"<",s=r.relation),r.count>2)i+=`${U(r.type)}x${R(r.count)}`;else for(let t=0;t<r.count;t++)i+=U(r.type)}return i}function H(t,{formatVersion:e,descendants:r=[]}={}){const s=B(e),i=e>=13,n=(i&&t.shadowRoot||t).querySelectorAll("*");for(let t=0;t<n.length&&r.length<32;t++){const o=n[t];e>=13&&o.ownerSVGElement||(s&&o.nodeName in s||v(o)||(r.push({type:F(o,e)}),i&&o.shadowRoot&&r.push(...H(o.shadowRoot,{formatVersion:e,descendants:r}))))}return r}const V=function(t,{formatVersion:e,ignore:r}={}){"number"!=typeof e&&(e=r?12:11);const s=function(t){return v(t)?1===t.children.length&&"FONT"===t.firstElementChild?t.parentElement:t.parentElement.parentElement:t}(t);this.type=F(s,e),this.elders=$(function(t,{formatVersion:e=11}={}){let r,s=t;const i=[],n=B(e),o=e>=13;for(;;){if(s.previousElementSibling)r=1,s=s.previousElementSibling;else if(s.parentNode&&s.parentNode!==document.body&&s.parentNode!==document.documentElement)r=2,s=s.parentNode;else{if(!o||s.nodeName!==D||!s.host)break;r=2,s=s.host}if(!(n&&s.nodeName in n||o&&s.nodeName===D||v(s)||(i.push({type:F(s,e),relation:r}),!(i.length>=32))))break}return i}(s,{formatVersion:e})),this.youngerSiblings=$(function(t,{formatVersion:e=11}={}){const r=[],s=B(e);for(let i=t.nextElementSibling;r.length<32&&i;i=i.nextElementSibling)s&&i.nodeName in s||v(i)||r.push({type:F(i,e)});return r}(s,{formatVersion:e})),this.descendants=$(H(s,{formatVersion:e})),E(s,this,null,{usePseudo:e>=16}),this.name=N(s),e>=16&&(this.visible=L(s))};V.fromObject=function(t){if(t instanceof V)return t;const e=Object.create(V.prototype);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},V.prototype.toString=function(){return`${V.hex(this.type)};${this.elders};${this.youngerSiblings};${this.descendants}`};var q=r(1509),G=r(3380),j=r(7866);const K=function(){this.metrics={}};K.prototype={start(t){this.metrics[t]=+new Date},stop(t){const e=this.metrics[t];if(!e)return void(0,G.Yz)(`[TimingMetric] No starting point for "${t}", ignoring.`);const r=+new Date-e;this.cancel(t),this.send(t,r)},cancel(t){delete this.metrics[t]},send(t,e){if(t.length>100)throw new Error("Key is too long (max 100)");if((e=Number(e,10))&&Number.isNaN(Number(e)))throw new Error("Value is NaN");if(!CE2.site)return void(0,G.Yz)(`[TimingMetric] No site, skipping metric ${t}`);const r=[[(0,j.M4)(0,1),CE2.tracker?.visitorID,25,CE2.VERSION,+new Date,CE2.tabId],[CE2.tracker?.visitID,t,e||"",CE2.visitorTracker?.getIdentification()]];(0,q.sendEvents)({context:"TimingMetric",userId:CE2.data.uid,siteId:CE2.site.id,snapshotIds:CE2.tracker?.snapshotIds,sessionId:CE2.tracker?.sessionId,pageFingerprintMd5:CE2.tracker?.pageFingerprintMd5},[r]),(0,G.Yz)(`[TimingMetric] Sent key=${t} value=${e}`)},getTrackerValue(t){if(CE2.tracker)return CE2.tracker[t]}};const W=new K;var Y=Uint8Array,z=Uint16Array,X=Int32Array,Q=new Y([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J=new Y([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Z=new Y([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tt=function(t,e){for(var r=new z(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];var i=new X(r[30]);for(s=1;s<30;++s)for(var n=r[s];n<r[s+1];++n)i[n]=n-r[s]<<5|s;return{b:r,r:i}},et=tt(Q,2),rt=et.b,st=et.r;rt[28]=258,st[258]=28;for(var it=tt(J,0),nt=(it.b,it.r),ot=new z(32768),at=0;at<32768;++at){var ct=(43690&at)>>1|(21845&at)<<1;ct=(61680&(ct=(52428&ct)>>2|(13107&ct)<<2))>>4|(3855&ct)<<4,ot[at]=((65280&ct)>>8|(255&ct)<<8)>>1}var lt=function(t,e,r){for(var s=t.length,i=0,n=new z(e);i<s;++i)t[i]&&++n[t[i]-1];var o,a=new z(e);for(i=1;i<e;++i)a[i]=a[i-1]+n[i-1]<<1;if(r){o=new z(1<<e);var c=15-e;for(i=0;i<s;++i)if(t[i])for(var l=i<<4|t[i],h=e-t[i],u=a[t[i]-1]++<<h,d=u|(1<<h)-1;u<=d;++u)o[ot[u]>>c]=l}else for(o=new z(s),i=0;i<s;++i)t[i]&&(o[i]=ot[a[t[i]-1]++]>>15-t[i]);return o},ht=new Y(288);for(at=0;at<144;++at)ht[at]=8;for(at=144;at<256;++at)ht[at]=9;for(at=256;at<280;++at)ht[at]=7;for(at=280;at<288;++at)ht[at]=8;var ut=new Y(32);for(at=0;at<32;++at)ut[at]=5;var dt=lt(ht,9,0),pt=lt(ut,5,0),ft=function(t){return(t+7)/8|0},mt=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new Y(t.subarray(e,r))},gt=function(t,e,r){r<<=7&e;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},Et=function(t,e,r){r<<=7&e;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},vt=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var i=r.length,n=r.slice();if(!i)return{t:St,l:0};if(1==i){var o=new Y(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort((function(t,e){return t.f-e.f})),r.push({s:-1,f:25001});var a=r[0],c=r[1],l=0,h=1,u=2;for(r[0]={s:-1,f:a.f+c.f,l:a,r:c};h!=i-1;)a=r[r[l].f<r[u].f?l++:u++],c=r[l!=h&&r[l].f<r[u].f?l++:u++],r[h++]={s:-1,f:a.f+c.f,l:a,r:c};var d=n[0].s;for(s=1;s<i;++s)n[s].s>d&&(d=n[s].s);var p=new z(d+1),f=Ct(r[h-1],p,0);if(f>e){s=0;var m=0,g=f-e,E=1<<g;for(n.sort((function(t,e){return p[e.s]-p[t.s]||t.f-e.f}));s<i;++s){var v=n[s].s;if(!(p[v]>e))break;m+=E-(1<<f-p[v]),p[v]=e}for(m>>=g;m>0;){var C=n[s].s;p[C]<e?m-=1<<e-p[C]++-1:++s}for(;s>=0&&m;--s){var y=n[s].s;p[y]==e&&(--p[y],++m)}f=e}return{t:new Y(p),l:f}},Ct=function(t,e,r){return-1==t.s?Math.max(Ct(t.l,e,r+1),Ct(t.r,e,r+1)):e[t.s]=r},yt=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new z(++e),s=0,i=t[0],n=1,o=function(t){r[s++]=t},a=1;a<=e;++a)if(t[a]==i&&a!=e)++n;else{if(!i&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(i),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(i);n=1,i=t[a]}return{c:r.subarray(0,s),n:e}},bt=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},wt=function(t,e,r){var s=r.length,i=ft(e+2);t[i]=255&s,t[i+1]=s>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var n=0;n<s;++n)t[i+n+4]=r[n];return 8*(i+4+s)},kt=function(t,e,r,s,i,n,o,a,c,l,h){gt(e,h++,r),++i[256];for(var u=vt(i,15),d=u.t,p=u.l,f=vt(n,15),m=f.t,g=f.l,E=yt(d),v=E.c,C=E.n,y=yt(m),b=y.c,w=y.n,k=new z(19),T=0;T<v.length;++T)++k[31&v[T]];for(T=0;T<b.length;++T)++k[31&b[T]];for(var S=vt(k,7),A=S.t,_=S.l,I=19;I>4&&!A[Z[I-1]];--I);var O,N,R,L,M=l+5<<3,P=bt(i,ht)+bt(n,ut)+o,x=bt(i,d)+bt(n,m)+o+14+3*I+bt(k,A)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&M<=P&&M<=x)return wt(e,h,t.subarray(c,c+l));if(gt(e,h,1+(x<P)),h+=2,x<P){O=lt(d,p,0),N=d,R=lt(m,g,0),L=m;var D=lt(A,_,0);gt(e,h,C-257),gt(e,h+5,w-1),gt(e,h+10,I-4),h+=14;for(T=0;T<I;++T)gt(e,h+3*T,A[Z[T]]);h+=3*I;for(var B=[v,b],U=0;U<2;++U){var F=B[U];for(T=0;T<F.length;++T){var $=31&F[T];gt(e,h,D[$]),h+=A[$],$>15&&(gt(e,h,F[T]>>5&127),h+=F[T]>>12)}}}else O=dt,N=ht,R=pt,L=ut;for(T=0;T<a;++T){var H=s[T];if(H>255){Et(e,h,O[($=H>>18&31)+257]),h+=N[$+257],$>7&&(gt(e,h,H>>23&31),h+=Q[$]);var V=31&H;Et(e,h,R[V]),h+=L[V],V>3&&(Et(e,h,H>>5&8191),h+=J[V])}else Et(e,h,O[H]),h+=N[H]}return Et(e,h,O[256]),h+N[256]},Tt=new X([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),St=new Y(0),At=function(t,e,r,s,i,n){var o=n.z||t.length,a=new Y(s+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(s,a.length-i),l=n.l,h=7&(n.r||0);if(e){h&&(c[0]=n.r>>3);for(var u=Tt[e-1],d=u>>13,p=8191&u,f=(1<<r)-1,m=n.p||new z(32768),g=n.h||new z(f+1),E=Math.ceil(r/3),v=2*E,C=function(e){return(t[e]^t[e+1]<<E^t[e+2]<<v)&f},y=new X(25e3),b=new z(288),w=new z(32),k=0,T=0,S=n.i||0,A=0,_=n.w||0,I=0;S+2<o;++S){var O=C(S),N=32767&S,R=g[O];if(m[N]=R,g[O]=N,_<=S){var L=o-S;if((k>7e3||A>24576)&&(L>423||!l)){h=kt(t,c,0,y,b,w,T,A,I,S-I,h),A=k=T=0,I=S;for(var M=0;M<286;++M)b[M]=0;for(M=0;M<30;++M)w[M]=0}var P=2,x=0,D=p,B=N-R&32767;if(L>2&&O==C(S-B))for(var U=Math.min(d,L)-1,F=Math.min(32767,S),$=Math.min(258,L);B<=F&&--D&&N!=R;){if(t[S+P]==t[S+P-B]){for(var H=0;H<$&&t[S+H]==t[S+H-B];++H);if(H>P){if(P=H,x=B,H>U)break;var V=Math.min(B,H-2),q=0;for(M=0;M<V;++M){var G=S-B+M&32767,j=G-m[G]&32767;j>q&&(q=j,R=G)}}}B+=(N=R)-(R=m[N])&32767}if(x){y[A++]=268435456|st[P]<<18|nt[x];var K=31&st[P],W=31&nt[x];T+=Q[K]+J[W],++b[257+K],++w[W],_=S+P,++k}else y[A++]=t[S],++b[t[S]]}}for(S=Math.max(S,_);S<o;++S)y[A++]=t[S],++b[t[S]];h=kt(t,c,l,y,b,w,T,A,I,S-I,h),l||(n.r=7&h|c[h/8|0]<<3,h-=7,n.h=g,n.p=m,n.i=S,n.w=_)}else{for(S=n.w||0;S<o+l;S+=65535){var Z=S+65535;Z>=o&&(c[h/8|0]=l,Z=o),h=wt(c,h+1,t.subarray(S,Z))}n.i=o}return mt(a,0,s+ft(h)+i)},_t=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var r=e,s=9;--s;)r=(1&r&&-306674912)^r>>>1;t[e]=r}return t}(),It=function(){var t=-1;return{p:function(e){for(var r=t,s=0;s<e.length;++s)r=_t[255&r^e[s]]^r>>>8;t=r},d:function(){return~t}}},Ot=function(t,e,r,s,i){if(!i&&(i={l:1},e.dictionary)){var n=e.dictionary.subarray(-32768),o=new Y(n.length+t.length);o.set(n),o.set(t,n.length),t=o,i.w=n.length}return At(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,s,i)},Nt=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Rt=function(t,e){var r=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:9==e.level?2:0,t[9]=3,0!=e.mtime&&Nt(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){t[3]=8;for(var s=0;s<=r.length;++s)t[s+10]=r.charCodeAt(s)}},Lt=function(t){return 10+(t.filename?t.filename.length+1:0)};function Mt(t,e){e||(e={});var r=It(),s=t.length;r.p(t);var i=Ot(t,e,Lt(e),8),n=i.length;return Rt(i,e),Nt(i,n-8,r.d()),Nt(i,n-4,s),i}var Pt="undefined"!=typeof TextEncoder&&new TextEncoder,xt="undefined"!=typeof TextDecoder&&new TextDecoder;try{xt.decode(St,{stream:!0}),1}catch(t){}function Dt(t,e){if(e){for(var r=new Y(t.length),s=0;s<t.length;++s)r[s]=t.charCodeAt(s);return r}if(Pt)return Pt.encode(t);var i=t.length,n=new Y(t.length+(t.length>>1)),o=0,a=function(t){n[o++]=t};for(s=0;s<i;++s){if(o+5>n.length){var c=new Y(o+8+(i-s<<1));c.set(n),n=c}var l=t.charCodeAt(s);l<128||e?a(l):l<2048?(a(192|l>>6),a(128|63&l)):l>55295&&l<57344?(a(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++s))>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|63&l)):(a(224|l>>12),a(128|l>>6&63),a(128|63&l))}return mt(n,0,o)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;const Bt=t=>{if("string"==typeof t)return Mt(Dt(t));if(!ArrayBuffer.isView(t))throw new Error("Data must be UInt* data type or string");return Mt(t)};function Ut(t,...e){const r=1===e.length&&e[0].includes(".")?e[0].split("."):e;let s=t;for(let t=0;t<r.length;t++){if(s=s[r[t]],!s)break}return s}function Ft(t){if(!t)return;const e=t.match(/[\d,]+/);return e&&parseFloat(e[0].replace(",","."))}function $t(t){const e=t.composedPath&&t.composedPath();let{target:r}=t;return r.shadowRoot&&e&&e.length>0&&([r]=e),r}function Ht(t,e){let r;if(r="function"==typeof e?t.findIndex(e):t.findIndex((t=>t===e)),r>=0){const e=t.splice(r,1);if(e&&e.length>0)return e[0]}}const Vt=()=>{if(void 0===CE2.state._isFB){const t=CE2.n.userAgent;for(let e=0,r=["FBSN","FBAN","FBAV"];e<r.length;e++){const s=r[e];if(t.indexOf(s)>-1){CE2.state._isFB=!0;break}}CE2.state._isFB||(CE2.state._isFB=!1)}return CE2.state._isFB},qt=function(t,e){const r=t[e];return function(...e){try{return r.apply(t,e)}catch(t){CE2.debug(t)}}},Gt=function(t,e){const r=CE2.fp.scroll(e);return[t.clientX+r.left,t.clientY+r.top]},jt=function(t){const e="key_"+ +new Date;try{const r=t.contentWindow;r[e]="temp";const s="temp"===r[e];return s&&delete r[e],s}catch(t){return!1}},Kt=function(t){return"string"==typeof t.tagUrn&&t.tagUrn.indexOf("vml")>=0},Wt=function(t){let e;return e=CE2.ieVersion&&(CE2.ieVersion<9||CE2.ieQuirksMode)?{1:"l",2:"r",4:"m"}:{0:"l",1:"m",2:"r"},e[t.button]};var Yt=r(2886);class zt{constructor(t){CE2BH.defineProperty(this,"CHECKOUT_STARTED_KEY","ceeccs"),CE2BH.defineProperty(this,"eventTypes",{ADD_TO_CART:1,CHECKOUT_STARTED:2,CHECKOUT_COMPLETED:3}),this.tracker=t,this.tracker.addEventListener("mousedown",(t=>{"l"===Wt(t)&&this.onClick&&this.onClick(t)}))}static api(){return this.NAME.toLowerCase()}api(){return this.constructor.api()}setCheckoutStarted(){CE2.cookieStorage.set(this.CHECKOUT_STARTED_KEY,1)}getCheckoutStarted(){return"1"===CE2.cookieStorage.get(this.CHECKOUT_STARTED_KEY)}delCheckoutStarted(){CE2.cookieStorage.del(this.CHECKOUT_STARTED_KEY)}isCheckoutStarted(){return!this.getCheckoutStarted()&&this.CHECKOUT_STARTED_PATH_REGEXP&&this.CHECKOUT_STARTED_PATH_REGEXP.test(CE2.w.location.pathname)}isCheckoutCompleted(){return this.getCheckoutStarted()&&this.CHECKOUT_COMPLETED_PATH_REGEXP&&this.CHECKOUT_COMPLETED_PATH_REGEXP.test(CE2.w.location.pathname)}update(){this.isCheckoutStarted()&&this.startCheckout(),this.isCheckoutCompleted()&&this.checkoutCompleted()}startCheckout(){this.setCheckoutStarted(),this.sendCheckoutStartedEvent()}checkoutCompleted(t=[]){this.delCheckoutStarted(),this.sendCheckoutCompletedEvent(t)}sendCheckoutStartedEvent(){this.sendEvent([this.eventTypes.CHECKOUT_STARTED]),this.emitEvent("startCheckout")}sendCheckoutCompletedEvent(t=[]){this.sendEvent([this.eventTypes.CHECKOUT_COMPLETED,...t]);const[e,r,s]=t;this.tracker.session?.isFull()&&(r||0===r)&&CE2.setSessionWorth(r/1e4,s);let i={};(r||0===r)&&(i={value:r/1e4,currency:s}),this.emitEvent("checkoutCompleted",i)}addToCart(t){this.delCheckoutStarted(),this.sendEvent([this.eventTypes.ADD_TO_CART,...t]);const[e,r,s,i,n]=t;this.tracker.session?.isFull()&&(i||0===i)&&CE2.increaseSessionWorth(i/1e4,n);let o={};(i||0===i)&&(o={value:i/1e4,currency:n}),this.emitEvent("addToCart",o)}sendEvent(t=[]){if(!this.tracker.session?.isFull())return;t=[this.tracker.visitID,...t];const e=this.tracker.newEvent(CE2.eventTypes.ECOMMERCE,{attributes:t});this.tracker.send(e)}emitEvent(t,e={}){CE2.w.dispatchEvent(new CustomEvent(`crazyegg.${t}`,{detail:CE2BH.extends({type:t,api:this.constructor.api()},e)}))}amountInCents(t){return this.tracker.amountInCents(t)}}CE2BH.defineProperty(zt,"NAME","Base");class Xt extends zt{}CE2BH.defineProperty(Xt,"NAME","Generic");class Qt extends zt{constructor(...t){super(...t),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*thank(_|-)?you/i)}onClick(t){const e=t.composedPath?.()?.[0]||t.target;if((0,Yt.B5)(e,'button[name=add], button[name=add] *, form[action="/cart/add"] button[type=submit], form[action="/cart/add"] button[type=submit] *')||(0,Yt.B5)(e,"button[type=submit]",!0)&&t.target.closest('form[action="/cart/add"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(e.innerText||e.value)){let t=[];const e=CE2.w.ShopifyAnalytics?.meta;if(e?.currency&&e?.product?.variants?.length&&(e?.selectedVariantId||1===e?.product?.variants?.length)){const r=e.selectedVariantId,s=e?.product?.variants?.length>1&&r?e.product.variants.find((t=>t.id==r)):e.product.variants[0],i=parseInt(CE2.d.querySelector("input[name=quantity]")?.value,10)||1;t=[s.id,s.name,i,this.amountInCents(s.price/100)*i,e.currency]}this.addToCart(t)}}sendCheckoutCompletedEvent(){const t=CE2.w.Shopify&&CE2.w.Shopify.checkout||{},e=this.amountInCents(t.total_price&&t.total_price);super.sendCheckoutCompletedEvent([t.order_id,e,t.currency])}static match(){return CE2.w&&CE2.w.Shopify&&Ut(CE2.w,"ShopifyAnalytics.lib.integrations")}}CE2BH.defineProperty(Qt,"NAME","Shopify");class Jt extends zt{constructor(...t){super(...t),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*((thank(_|-)?you)|(order-received))/i)}onClick(t){const{target:e}=t;if((0,Yt.B5)(e,'.single_add_to_cart_button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(e.innerText||e.value)){let t=[];const e=Jt.getProduct();if(e)try{const r=CE2.d.querySelector("input.qty"),s=e.offers&&(e.offers[0]||e.offers);this.currency=s&&s.priceCurrency,t=[e.sku||e["@id"],e.name,r&&r.value,this.amountInCents(s&&(s.price||s.lowPrice||s.hightPrice)),s&&s.priceCurrency]}catch(t){(0,G.Yz)("error extracting product data",t)}this.addToCart(t)}}static getProduct(){for(let t=0,e=CE2.d.querySelectorAll('script[type="application/ld+json"]');t<e.length;t++){const r=e[t];try{const t=CE2.Native.JSON.parse(r.textContent.trim());if(t){if("Product"===t["@type"])return t;if(t["@graph"]instanceof Array){const e=t["@graph"].find((t=>"Product"===t["@type"]));if(e)return e}}}catch(t){(0,G.Yz)("error extracting product data",t)}}}sendCheckoutCompletedEvent(){const t=CE2.d.querySelector(".order"),e=CE2.d.querySelector(".total");super.sendCheckoutCompletedEvent([Jt.getValue(t&&t.innerText),this.amountInCents(Jt.getValue(e&&e.innerText)),this.currency])}static getValue(t){return t&&(t.indexOf(":")>-1?t.split(":")[1].trim():t)}static match(){return CE2.w&&Object.keys(CE2.w).find((t=>/^wc_.*_params$/.test(t)))}}CE2BH.defineProperty(Jt,"NAME","Woocommerce");class Zt extends zt{constructor(...t){super(...t),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout(s)?\//i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/checkout(s)?\/.*success/i)}onClick(t){const{target:e}=t;if((0,Yt.B5)(e,'#product-addtocart-button, [class*="add_to_cart"], [class*="add-to-cart"]')||/^\s*(add to (cart|bag|basket)|buy now)\s*$/i.test(e.innerText||e.value)){let t=[];const r=Zt.getProduct(e);this.currency=r.priceCurrency,r&&(t=[r.id,r.name,r.qty,this.amountInCents(r.price),r.priceCurrency]),this.addToCart(t)}}static getProduct(t){const e={};try{const r=t.closest(".product-info-main");e.name=CE2.d.querySelector(".page-title")&&CE2.d.querySelector(".page-title").innerText,e.qty=r.querySelector("input.qty")&&r.querySelector("input.qty").value,e.id=r.querySelector('input[name="product"]')&&r.querySelector('input[name="product"]').value,e.price=r.querySelector('[itemprop="price"]')&&(r.querySelector('[itemprop="price"]').getAttribute("content")||r.querySelector('[itemprop="price"]').innerText),e.priceCurrency=r.querySelector('[itemprop="priceCurrency"]')&&r.querySelector('[itemprop="priceCurrency"]').getAttribute("content")}catch(t){(0,G.Yz)("error extracting product data",t)}return e}sendCheckoutCompletedEvent(){const t=CE2.d.querySelector(".order-number"),e=CE2.d.querySelector(".grand_total .amount");super.sendCheckoutCompletedEvent([t&&t.innerText,e&&e.innerText&&this.amountInCents(e.innerText),this.currency])}static match(){return CE2.w&&CE2.w.checkout&&CE2.w.checkout.checkoutUrl&&CE2.w.checkout.websiteId||[...document.scripts].find((t=>t.src&&t.src.indexOf("Magento")>-1))||[...document.querySelectorAll("link")].find((t=>t.href&&t.href.indexOf("Magento")>-1))}}CE2BH.defineProperty(Zt,"NAME","Magento");class te extends zt{constructor(...t){super(...t);const e=CE2.w.location.host,r=this.onEvent.bind(this),s=()=>{window.wixDevelopersAnalytics.register(e,r)};CE2.w.wixDevelopersAnalytics?s():CE2.w.addEventListener("wixDevelopersAnalyticsReady",s)}onEvent(t,e){if("AddToCart"===t){const t=[e.sku,e.name,e.quantity,this.amountInCents(e.price),e.currency];this.addToCart(t)}"InitiateCheckout"===t&&this.startCheckout(),"Purchase"===t&&this.checkoutCompleted([e.orderId,this.amountInCents(e.revenue),e.currency])}static match(){return CE2.w&&!!CE2.w.fedops}}CE2BH.defineProperty(te,"NAME","WixApi");class ee extends zt{constructor(...t){super(...t),CE2BH.defineProperty(this,"CHECKOUT_STARTED_PATH_REGEXP",/\/checkout\?cartToken/i),CE2BH.defineProperty(this,"CHECKOUT_COMPLETED_PATH_REGEXP",/\/website\/thank-you-page/i),CE2BH.defineProperty(this,"ADD_TO_CART_BUTTON_NAME_PATTERN",/add to (cart|bag|basket)/i),CE2BH.defineProperty(this,"CHECKOUT_BUTTON_NAME_PATTERN",/checkout/i)}onClick(t){const{target:e}=t;if((t=>(0,Yt.B5)(t,".sqs-add-to-cart-button",!0))(e)&&(t=>this.ADD_TO_CART_BUTTON_NAME_PATTERN.test(t.innerText||t.value))(e))return this.processAddToCardAction();(t=>this.CHECKOUT_BUTTON_NAME_PATTERN.test(t.innerText||t.value))(e)&&!this.getCheckoutStarted()&&this.startCheckout()}getProductData(){const t=CE2.d.querySelectorAll('script[type="application/ld+json"]'),e=CE2.d.querySelector(".product-variants[data-selected-variant]"),r=CE2.w.Static?.SQUARESPACE_CONTEXT?.product;let s;if(e?s=CE2.Native.JSON.parse(e.getAttribute("data-selected-variant")):1===r?.variants?.length&&([s]=r.variants),!s)return(0,G.Yz)("Variant not found"),null;for(let e=0;e<t.length;e++){const r=t[e],i=CE2.Native.JSON.parse(r.textContent);if(i.offers){const t=CE2.d.querySelector(".product-quantity-input input");return this.currency=s.priceMoney?.currency,[s.sku,i.name,t&&parseInt(t.value,10),this.amountInCents(Ft(s.priceMoney?.value)),this.currency]}}}processAddToCardAction(){try{const t=this.getProductData();t&&this.addToCart(t)}catch(t){(0,G.Yz)("error extracting product data",t)}}static match(){return CE2.w&&(CE2.w.SQUARESPACE_ROLLUPS||Object.keys(CE2.w).find((t=>t.includes("__INITIAL_SQUARESPACE"))))}}CE2BH.defineProperty(ee,"NAME","Squarespace");const re=[Qt,Jt,Zt,te,ee],se=function(){for(let t=0;t<re.length;t++){const e=re[t];if(e.match())return(0,G.Yz)(`[Tracker] [Ecommerce] ${e.api()} site detected`),e}}()||Xt,ie="<unknown>",ne=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,oe=/\((\S*)(?::(\d+))(?::(\d+))\)/;const ae=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;const ce=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,le=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;const he=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;const ue=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function de(t){return t.split("\n").reduce(((t,e)=>{const r=function(t){const e=ne.exec(t);if(!e)return null;const r=e[2]&&0===e[2].indexOf("native"),s=e[2]&&0===e[2].indexOf("eval"),i=oe.exec(e[2]);return s&&null!=i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{file:r?null:e[2],methodName:e[1]||ie,arguments:r?[e[2]]:[],lineNumber:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}(e)||function(t){const e=ae.exec(t);return e?{file:e[2],methodName:e[1]||ie,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){const e=ce.exec(t);if(!e)return null;const r=e[3]&&e[3].indexOf(" > eval")>-1,s=le.exec(e[3]);return r&&null!=s&&(e[3]=s[1],e[4]=s[2],e[5]=null),{file:e[3],methodName:e[1]||ie,arguments:e[2]?e[2].split(","):[],lineNumber:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}(e)||function(t){const e=ue.exec(t);return e?{file:e[2],methodName:e[1]||ie,arguments:[],lineNumber:+e[3],column:e[4]?+e[4]:null}:null}(e)||function(t){const e=he.exec(t);return e?{file:e[3],methodName:e[1]||ie,arguments:[],lineNumber:+e[4],column:e[5]?+e[5]:null}:null}(e);return r&&t.push(r),t}),[])}var pe=r(401);class fe{constructor(t=[]){this.cached_assets=new Set;for(let e=0;e<t.length;e++){const r=t[e];this.cached_assets.add(r)}}add(t){this.cached_assets.add((0,pe.F)(t))}test(t){return this.cached_assets.has((0,pe.F)(t))}items(){const t=[];return this.cached_assets.forEach((e=>t.push(e))),t}}var me=r(4808);const ge=["Failed to execute 'importScripts' on 'WorkerGlobalScope'"];class Ee{constructor(t){this.tracker=t,this.setupCache(),this.setupQueue(),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.app_version&&(this.appVersion=CE_ERROR_TRACKING_CONFIG.app_version),"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.delay_time?this.delayTime=CE_ERROR_TRACKING_CONFIG.delay_time:this.delayTime=1e4,"undefined"!=typeof CE_ERROR_TRACKING_CONFIG&&CE_ERROR_TRACKING_CONFIG.fingerprint?this.fingerprint=CE_ERROR_TRACKING_CONFIG.fingerprint:this.fingerprint=(t,e)=>{const r=[];return r.push(`${e.name}`),e.file&&r.push(`[${e.file}:${e.lineno}:${e.colno}]`),r.join(" ")},this.tracker.addEventListener("error",(0,Yt.oI)(this,"onError")),this.tracker.addEventListener("unhandledrejection",(0,Yt.oI)(this,"onError"))}static removeFingerprintFrom(t){if(!t)return t;if(t.replace(".js","").match(/^([0-9]+([\-|\.|\_])?)+$/))return t;return t.split(/([a-z0-9]+[\-|\.|\_]+)/i).filter((t=>{if(!t)return!1;const e=t.replace(/[^0-9]/g,"").length,r=t.replace(/[\.\-\_]/,"").length,s=e===r;return!!(s&&e<=3)||!(e/r>.15||s)})).join("").replace(/[\-\.\_]js$/,".js")}update(){this.setupQueue(),this.setupCache()}onError(t){try{let e;e="Script error."===t.message?this.buildBaseError(t,t.reason,null,"CrossOrigin Error"):t.error?this.buildBaseError(t,t.error):t.promise?this.buildBaseError(t,t.reason,"UnhandledPromise ->"):this.buildBaseError(t);for(let t=0;t<ge.length;t++){const r=ge[t];if(e.message.match(r))return}if(this.cache.test(e.fingerprint))return;this.bufferQueue.push({timestamp:+new Date,errorAttributes:e}),this.cache.add(e.fingerprint)}catch(e){(0,me.A)(e),(0,G.Yz)(t)}}setupCache(){this.cache=new fe}setupQueue(){this.bufferQueueTimeout&&clearTimeout(this.bufferQueueTimeout),this.bufferQueue=[],this.processQueue(!0)}processQueue(t,e=!1,r=!1){for(;this.bufferQueue.length>0;){const{timestamp:t,errorAttributes:s}=this.bufferQueue[0];if(!e&&+new Date-t<this.delayTime)break;const i=[this.tracker.visitID,s.name,s.message,s.filename,s.lineno,s.colno,s.stack,s.appVersion,s.fingerprint,s.url,s.uuid,s.bounced||r,s.rageClicked],n=this.tracker.newEvent(CE2.eventTypes.ERROR,{timestamp:t,attributes:i});this.tracker.send(n),this.bufferQueue.shift()}if(t){const e=(0,Yt.oI)(this,"processQueue");this.bufferQueueTimeout=setTimeout((()=>{e(t)}),this.delayTime)}}flush(t){this.processQueue(!1,!0,t)}assignAttribute(t="rageClicked"){this.bufferQueue.forEach((e=>{e.errorAttributes[t]=!0}))}buildBaseError(t,e,r,s=null){const i=CE2BH.extends({},this.parseErrorFileAttributes(t,e),this.parseErrorMessageAttributes(t,e,s));return i.uuid=(0,Yt.Jl)(),i.appVersion=this.appVersion,i.url=CE2.w.location.href,i.name=r?`${r} ${i.name}`:i.name,i.fingerprint=t.fingerprint||this.fingerprint(t,i),i.rageClicked=!1,i.bounced=!1,i}parseErrorFileAttributes(t,e){let r={};if(t.filename)r={filename:t.filename,lineno:t.lineno,colno:t.colno,stack:e&&e.stack&&e.stack.toString()};else if(e&&e.stack)try{const t=de(e.stack);t.length>=1&&(r={filename:t[0].file,lineno:t[0].lineNumber,colno:t[0].column,stack:e.stack.toString()})}catch(t){(0,me.A)(t)}if(r.filename&&0!==r.filename.indexOf("blob:"))if(this.isValidFileUrl(r.filename)){const t=new CE2.URL(r.filename),e=new CE2.URL(CE2.w.location.href);if(t.path!==e.path){let e=t.path;"/"!==t.path&&"/"===t.path[t.path.length-1]&&(e=t.path.slice(0,t.path.length-1)),r.file="/"!==e?e.split("/").pop():e}}else r.file="unknown";return r.file=Ee.removeFingerprintFrom(r.file),r}parseErrorMessageAttributes(t,e,r=null){const s={};if(e&&e.message){const t=e.message.replace(/^Uncaught /,"");s.message=e.name?`${e.name}: ${t}`:t}else if(e)s.message=e;else if(t.message)s.message=t.message.replace(/^Uncaught /,"");else if(t.target){const e=["Error on"];t.target.tagName&&e.push(t.target.tagName),t.target.src&&e.push(t.target.src!==CE2.w.location.href?t.target.src:"Empty src attribute"),s.message=e.join(" "),s.name="Unknown Resource Error"}return s.message||(s.message="Unknown Error"),r?s.name=r:s.name||(s.name=function(t){if(t.length<=50)return t.trim();const e=t.trim().split(" ");for(let t=1;t<=e.length;t++){const r=e.slice(0,t).join(" ");if(r.length<=50)continue;const s=t===e.length;return r.trim()+(s?"":" ...")}return t.trim()}(s.message)),s}isValidFileUrl(t){try{if(window.URL)return!!new window.URL(t)}catch(t){(0,me.A)(t)}}}const ve=[[.4,.4],[.5,.4],[.5,.5],[.4,.5],[.3,.5],[.3,.4],[.3,.3],[.4,.3],[.5,.3],[.6,.3],[.6,.4],[.6,.5],[.6,.6],[.5,.6],[.4,.6],[.3,.6],[.2,.6],[.2,.5],[.2,.4],[.2,.3],[.2,.2],[.3,.2],[.4,.2],[.5,.2],[.6,.2],[.7,.2],[.7,.3],[.7,.4],[.7,.5],[.7,.6],[.7,.7],[.6,.7],[.5,.7],[.4,.7],[.3,.7],[.2,.7],[.1,.7],[.1,.6],[.1,.5],[.1,.4],[.1,.3],[.1,.2],[.1,.1],[.2,.1],[.3,.1],[.4,.1],[.5,.1],[.6,.1],[.7,.1],[.8,.1],[.8,.2],[.8,.3],[.8,.4],[.8,.5],[.8,.6],[.8,.7],[.8,.8],[.7,.8],[.6,.8],[.5,.8],[.4,.8],[.3,.8],[.2,.8],[.1,.8],[0,.8],[0,.7],[0,.6],[0,.5],[0,.4],[0,.3],[0,.2],[0,.1],[0,0],[.1,0],[.2,0],[.3,0],[.4,0],[.5,0],[.6,0],[.7,0],[.8,0],[.9,0],[.9,.1],[.9,.2],[.9,.3],[.9,.4],[.9,.5],[.9,.6],[.9,.7],[.9,.8],[.9,.9],[.8,.9],[.7,.9],[.6,.9],[.5,.9],[.4,.9],[.3,.9],[.2,.9],[.1,.9],[0,.9]],Ce=`cedk${Math.random().toString().replace(/\D/g,"")}`;function ye(t,e,r){if(!t||!t.nodeName)return!1;if(t==CE2.d||t==CE2.d.documentElement||t==CE2.d.body)return!1;if(Kt(t))return!1;if(r){if(!function(t){let e;if(t[Ce])return!1;for(;t&&t!=CE2.d&&t!=CE2.d.documentElement&&t!=CE2.d.body;t=t.parentNode)if(e=CE2.w.getComputedStyle(t),e&&("absolute"==e.position||"fixed"==e.position))return!(t[Ce]=!0);return!0}(t))return!1;if(CE2.fp.getBox(t).height>2*e.height)return!1}return!0}function be(t,e,r){const s=CE2.d.elementFromPoint(t+r.left,e+r.top);return s.nodeType===s.TEXT_NODE?s.parentNode:s}function we(t,e){return CE2.d.elementFromPoint(t,e)}let ke=function(...t){if(CE2.d.elementFromPoint)return ke=CE2.webkit&&CE2.webkitVersion<533||CE2.opera&&CE2.operaVersion<10?be:we,ke(...t)};class Te{constructor(){this.strictAnchorSearch=!0,this.lastRecordedScroll=null,this.lastRecordedTime=0,this.lastRecordedY=0,this.idleAt=null,this.idleSince=(new Date).getTime()}shouldRecordScroll(t){const e=t.top,r=t.height,s=`${e}:${r}`,i=(new Date).getTime();if(s==this.lastRecordedScroll)return!1;if(s==this.idleAt){if(i-this.idleSince>=800)return this.lastRecordedScroll=s,this.lastRecordedTime=i,this.lastRecordedY=e,!0}else this.idleAt=s,this.idleSince=i;return null==this.lastRecordedScroll||Math.abs(e-this.lastRecordedY)>r/2&&i-this.lastRecordedTime>=1600?(this.lastRecordedScroll=s,this.lastRecordedTime=i,this.lastRecordedY=e,!0):void 0}findAnchor(t,e){if(!CE2.d.elementFromPoint)return e(t);const r=this;let s=0,i=this.strictAnchorSearch;const{width:n}=t,{height:o}=t;let a,c,l,h;const u=function(){if(a=ve[s++]){if(l=(a[0]+.1*Math.random())*n,h=(a[1]+.1*Math.random())*o,c=ke(l,h,t),ye(c,t,i))return e(t,c);setTimeout(u,0)}else s=0,r.strictAnchorSearch=i=!1,setTimeout(u,0)};setTimeout(u,0)}}CE2.EXCESSIVE_SCROLL_TIMEOUT=3e3;var Se=r(715);const Ae="ce_submit_forms";function _e(t,e){const r=t[e];return"string"==typeof r?r:t.getAttribute(e)}class Ie{static formAttributes(t){return[_e(t,"id"),_e(t,"name"),new CE2.Native.URL(_e(t,"action"),CE2.w.location.href).toString()]}static validateEmail(t){const e=document.createElement("input");return e.type="email",e.required=!0,e.value=t,"function"==typeof e.checkValidity?e.checkValidity():/\S+@\S+\.\S+/.test(t)}constructor(t){CE2BH.defineProperty(this,"EMAIL_ATTRIBUTE_REGEX",/e([-_])?mail/i),CE2BH.defineProperty(this,"FORM_REGEX",/sign([-_\s])?up|checkout|log([-_\s])?in|sign([-_\s])?in/i),CE2BH.defineProperty(this,"eventTypes",{SUBMIT:1,RESUBMIT:2,ABANDON:3,SIGNUP:4,LOGIN:5,EMAIL:6,SEARCH:7}),this.tracker=t,this.tracker.addEventListener("mousedown",(t=>{"l"===Wt(t)&&this.onClick(t)})),CE2.data.auto_identity&&!CE2.IDENTIFIER&&(CE2.w.ShopifyAnalytics&&Ut(CE2.w,"ShopifyAnalytics.meta.page.customerId")&&(0,Se.ls)(CE2.w.ShopifyAnalytics.meta.page.customerId),this.tracker.addEventListener("blur",(0,Yt.oI)(this,"onBlur")),this.tracker.addEventListener("submit",(0,Yt.oI)(this,"onBlur"))),this.tracker.addEventListener("submit",(0,Yt.oI)(this,"onSubmit")),this.tracker.addEventListener("input",(0,Yt.oI)(this,"onInput")),this.tracker.addEventListener("beforeunload",(0,Yt.oI)(this,"beforeUnload")),this.editedForms=[],this.submittedForms=CE2.Native.JSON.parse(CE2.Native.sessionStorageWrapper.read(Ae)||"[]")}onClick(t){const{target:e}=t;if(!e)return;const r=e.closest("form"),s="INPUT"===e.tagName&&("button"===e.type||"submit"===e.type);if(r&&s||"BUTTON"===e.tagName){const t="INPUT"===e.tagName?e.value:e.innerText;(/(log\s*in)|(sign\s*in)/i.test(t)||r&&/(log[\-_]in)|(sign[\-_]in)/i.test(r.action))&&this.sendEvent([this.eventTypes.LOGIN]),(/(sign\s*up)|register/i.test(t)||r&&/(sign[\-_\s]up)|register/i.test(r.action))&&this.sendEvent([this.eventTypes.SIGNUP])}"INPUT"!==e.tagName&&"BUTTON"!==e.tagName||"submit"===e.type&&r&&this.submit(r,e)}onSubmit(t){const e=t.target;e&&(e.ce_submit&&+new Date-e.ce_submit<100||this.submit(e))}onBlur(t){try{const{target:e}=t;if(!e||"function"!=typeof e.closest)return;const r=e.closest("form"),s="INPUT"===e.tagName&&e.value&&Ie.validateEmail(e.value);r&&this.isAuthForm(r)&&s&&!CE2.IDENTIFIER&&(0,Se.ls)(e.value)}catch(t){(0,G.Yz)("form blur trigger failed",t)}}onInput(t){const{target:e}=t;if(!e)return;const r=e.closest("form");r&&!this.editedForms.includes(r)&&this.editedForms.push(r),r&&!r.ce_time_start&&(r.ce_time_start=+new Date),"INPUT"===e.tagName&&("search"===e.type||e.placeholder&&/search/i.test(e.placeholder))&&(!e.ce_search||+new Date-e.ce_search>3e4)&&(e.ce_search=+new Date,this.sendEvent([this.eventTypes.SEARCH])),"INPUT"===e.tagName&&e.value&&Ie.validateEmail(e.value)&&(!e.ce_email_sent||+new Date-e.ce_email_sent>6e4)&&(e.ce_email_sent=+new Date,this.sendEvent([this.eventTypes.EMAIL]))}beforeUnload(){this.editedForms.forEach((t=>{this.sendEvent([this.eventTypes.ABANDON,...Ie.formAttributes(t)])})),this.editedForms=[],CE2.Native.sessionStorageWrapper.write(Ae,CE2.Native.JSON.stringify(this.submittedForms))}submit(t){try{const e=this.editedForms.indexOf(t);-1!==e&&this.editedForms.splice(e,1),t.ce_submit=+new Date;const r=Ie.formAttributes(t);let s;-1!==this.submittedForms.indexOf(CE2.Native.JSON.stringify(r))?s=this.eventTypes.RESUBMIT:(this.submittedForms.push(CE2.Native.JSON.stringify(r)),s=this.eventTypes.SUBMIT);const i=[s,...r];t.ce_time_start&&(i.push(+new Date-t.ce_time_start),delete t.ce_time_start),this.sendEvent(i)}catch(t){(0,G.Yz)("form submit event failed",t)}}sendEvent(t=[]){t=[this.tracker.visitID,...t];const e=this.tracker.newEvent(CE2.eventTypes.FORM,{attributes:t});this.tracker.send(e)}isAuthForm(t){const e=_e(t,"action"),r=_e(t,"class"),s=_e(t,"id"),i=_e(t,"name");return this.isMatch(e)||this.isMatch(r)||this.isMatch(s)||this.isMatch(i)}isMatch(t,e=this.FORM_REGEX){return t&&t.match(e)}}class Oe{constructor(){this.events=[],this.api=this.apiName(),this.find(),this.listeners=new Set}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}find(){throw new Error(`${this.constructor.name}.find() not implemented`)}apiName(){throw new Error(`${this.constructor.name}.apiName() not implemented`)}urlMatches(){throw new Error(`${this.constructor.name}.urlMatches(url) not implemented`)}getId(){throw new Error(`${this.constructor.name}.getId() not implemented`)}getEventType(){throw new Error(`${this.constructor.name}.getEventType() not implemented`)}recordEvent(t){const e={api:this.api,properties:t},r=this.getId(t);null!=r&&(e.id=r);const s=this.getEventType(t);"string"==typeof s&&s.trim().length>0&&(e.type=s),this.events.push(e),this.listeners.forEach((t=>{t(e)}))}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}}class Ne{constructor(){this.listeners=new Set,this.bufferedEvents=[]}trigger(...t){0===this.listeners.size?this.bufferedEvents.push(t):this.listeners.forEach((e=>{e(...t)}))}destroy(){throw new Error(`${this.constructor.name}.destroy() not implemented`)}triggerBuffered(){if(this.bufferedEvents.length>0){for(let t=0,e=this.bufferedEvents;t<e.length;t++){const r=e[t];this.trigger(...r)}this.bufferedEvents=[]}}static getInstance(){return this.instance||(this.instance=new this),this.instance}static destroy(){this.instance&&(this.instance.destroy(),delete this.instance)}static addListener(t){const e=this.getInstance();e.listeners.add(t),e.triggerBuffered()}static removeListener(t){this.instance&&(this.instance.listeners.delete(t),0===this.instance.listeners.size&&this.destroy())}static trigger(...t){this.instance&&this.instance.trigger(...t)}}class Re extends Ne{constructor(){super(),this.observer=new MutationObserver(this.onMutation.bind(this)),"interactive"===document.readyState||"complete"===document.readyState?this.startObserver():document.addEventListener("DOMContentLoaded",this.startObserver.bind(this))}startObserver(){document.querySelectorAll("script[src]").forEach((t=>{this.trigger(t.getAttribute("src"))})),this.observer.observe(document.documentElement,{subtree:!0,childList:!0})}onMutation(t){for(let e=0;e<t.length;e++){const r=t[e];if(r.addedNodes&&0!==r.addedNodes.length)for(let t=0,e=r.addedNodes;t<e.length;t++){const r=e[t];"SCRIPT"===r.nodeName&&this.trigger(r.getAttribute("src"))}}}destroy(){this.observer.disconnect()}}function Le(t){const e={};return new URL(t).searchParams.forEach(((t,r)=>{e[r]=t})),e}class Me extends Oe{constructor(){super(),this.$onScript=this.onScript.bind(this),Re.addListener(this.$onScript)}destroy(){Re.removeListener(this.$onScript)}apiName(){return"google"}urlMatches(t){if(!t||"string"!=typeof t)return;return["googleadservices.com/pagead/conversion/","googleads.g.doubleclick.net/pagead/viewthroughconversion/"].some((e=>t.toLowerCase().includes(e.toLowerCase())))}find(){const t=new Set;for(let e=0,r=document.querySelectorAll('script[src*="/gtag/"]');e<r.length;e++){const s=r[e];try{const e=new URL(s.src).searchParams.get("id");e&&/^(AW|G)-/.test(e)&&t.add(e)}catch(t){continue}}t.size>0&&(this.ids=Array.from(t))}getId(t){if(t.source_url){const e=/\/pagead\/(viewthrough)?conversion\/([^/?#]+)/.exec(t.source_url);if(e&&e[2])return e[2]}}getEventType(t){if(t.gclid&&(t.medium||t.utm_medium))return"ad_click";const{data:e}=t;if(e){const t=/event=([^;]+)/.exec(e);if(t&&t[1])return t[1]}}onScript(t){if(!this.urlMatches(t))return;const e=Le(t);e.source_url=t,this.getEventType(e)&&this.recordEvent(e)}detectAdWordsConversion(t){const e=Le(t||window.location.href);e.gclid&&("cpc"===e.medium&&e.gad_source||"paid_search"===e.utm_medium&&e.utm_source)&&this.recordEvent(e)}}const Pe=window.Image;function xe(...t){const e=new Pe(...t);return Object.defineProperty(e,"src",{set(t){setTimeout((()=>{De.trigger(t)}),0),e.setAttribute("src",t)},get:()=>e.getAttribute("src")}),e}class De extends Ne{constructor(){super(),window.Image=xe,window.Image.toString=()=>Pe.toString()}destroy(){window.Image=Pe}}class Be extends Oe{constructor(){super(),this.$onImage=this.onImage.bind(this),De.addListener(this.$onImage)}destroy(){De.removeListener(this.$onImage)}apiName(){return"meta"}urlMatches(t){return t.startsWith("https://www.facebook.com/tr/")}find(){if(window.fbq&&window.fbq.instance&&window.fbq.instance.pixelsByID){const t=Object.keys(window.fbq.instance.pixelsByID);t.length>0&&(this.ids=t)}}getId(t){return t.id}getEventType(t){return t.ev}onImage(t){if(!this.urlMatches(t))return;const e=Le(t);this.getEventType(e)&&this.recordEvent(e)}}const Ue=navigator.sendBeacon;function Fe(t,e){return setTimeout((()=>{try{$e.trigger(t,e)}catch(t){console.error("sendBeacon error: ",t.stack)}}),0),Ue.call(navigator,t,e)}class $e extends Ne{constructor(){super(),navigator.sendBeacon=Fe,navigator.sendBeacon.toString=()=>Ue.toString()}destroy(){navigator.sendBeacon=Ue}}class He extends Oe{constructor(){super(),this.$onSendBeacon=this.onSendBeacon.bind(this),$e.addListener(this.$onSendBeacon)}destroy(){$e.removeListener(this.$onSendBeacon)}apiName(){return"tiktok"}urlMatches(t){return t.startsWith("https://analytics.tiktok.com/")}find(){const t=document.querySelectorAll('script[src*="analytics.tiktok.com"][data-id]'),e=new Set(Array.from(t).map((t=>t.dataset.id)));e.size>0&&(this.ids=Array.from(e))}getId(t){return t?.context?.pixel?.code}getEventType(t){return t.event}onSendBeacon(t,e){if(!this.urlMatches(t))return;const r=JSON.parse(e);this.getEventType(r)&&this.recordEvent(r)}}const Ve={google:Me,meta:Be,tiktok:He};class qe{constructor(t="all"){if("all"===t)this.pixels={google:new Me,meta:new Be,tiktok:new He};else{this.pixels={};for(let e=0;e<t.length;e++){const r=t[e],s=Ve[r];this.pixels[r]=new s}}this.$onLoad=this.findPixels.bind(this),window.addEventListener("load",this.$onLoad),this.$onDomReady=()=>{this.findPixels(),this.initMutationObserver()},document.addEventListener("DOMContentLoaded",this.$onDomReady),this.findPixels(),this.initMutationObserver()}destroy(){document.removeEventListener("DOMContentLoaded",this.$onDomReady),window.removeEventListener("load",this.$onLoad);for(let t=0,e=Object.values(this.pixels);t<e.length;t++){e[t].destroy()}}findPixels(){for(let t=0,e=Object.values(this.pixels);t<e.length;t++){e[t].find()}}initMutationObserver(){this.mutationObserver||document.documentElement&&(this.mutationObserver=new MutationObserver((t=>{for(let e=0;e<t.length;e++){if(t[e].addedNodes){this.findPixels();break}}})),this.mutationObserver.observe(document.documentElement,{subtree:!0,childList:!0}))}addEventListener(t){for(let e=0,r=Object.values(this.pixels);e<r.length;e++){r[e].addListener(t)}}removeEventListener(t){for(let e=0,r=Object.values(this.pixels);e<r.length;e++){r[e].removeListener(t)}}}var Ge=r(1789),je=r(2080),Ke=r(7471);const We=(t,e,r,s)=>{if(!r||r.type!==e)return!1;if(!t.on_any_page&&!(0,Ke.V4)(t.on_page,CE2.w.location.href))return!1;let i=t[`selector_for_${{1:"desktop",2:"phone",3:"tablet"}[CE2.clock.getDeviceType()]}`];return!!i&&("function"==typeof CE2.fixTriggerSelector&&(i=CE2.fixTriggerSelector(s,i)),!(!i||!(0,Yt.B5)(r.target,i,!0)))};Ke.DM.url_visit=Ke.DM.visited_page,Ke.DM.click=(t,{operand:e}={})=>{const{event:r,goalId:s}=e;return We(t,"mousedown",r,s)},Ke.DM.form_submission=(t,{operand:e}={})=>{const{event:r,goalId:s}=e;return We(t,"submit",r,s)},Ke.DM.pixel_event=(t,{operand:e}={})=>((t,e)=>{if(!t.on_any_page&&!(0,Ke.V4)(t.on_page,CE2.w.location.href))return!1;if(t.api!==e.api)return!1;const r="string"==typeof t.event&&t.event.toLowerCase();return!(r&&r!==e.type.toLowerCase()||"ad_click"!==r&&"string"==typeof t.id&&t.id.replace(/^(G|AW)-/,"")!==e.id)})(t,e.event),Ke.DM.ecommerce_event=(t,{operand:e}={})=>((t,e)=>{if(!t.on_any_page&&!(0,Ke.V4)(t.on_page,CE2.w.location.href))return!1;if(t.api!==e.detail?.api)return!1;const r="string"==typeof t.event&&t.event.toLowerCase();return!r||r===e.detail?.type?.toLowerCase()})(t,e.event);class Ye{constructor(t){this.tracker=t,this.goals=this.tracker.goals;const e=(0,Yt.oI)(this,"onClickOrSubmit");this.tracker.addEventListener("mousedown",e),this.tracker.addEventListener("submit",e);const{onActivity:r}=Ye;this.tracker.addEventListener("mousemove",r),this.tracker.addEventListener("scroll",r),this.tracker.addEventListener("keydown",r),this.tracker.addEventListener("pagehide",r);const s=(0,Yt.oI)(this,"onEcommerceEvent");this.tracker.addEventListener("crazyegg.addToCart",s),this.tracker.addEventListener("crazyegg.startCheckout",s),this.tracker.addEventListener("crazyegg.checkoutCompleted",s);const i=(0,Yt.oI)(this,"onHubSpotMessage");this.tracker.addEventListener("message",i),this.pixelObserver=new qe(Ye.pixelApisFromGoals(this.goals)),this.pixelObserver.addEventListener(this.onPixelEvent.bind(this)),this.pixelObserver.pixels?.google?.detectAdWordsConversion(),this.goalValuesObserver=new je.O(this.goals,[this.onGoalValueEvent.bind(this)]),this.setupGravityFormsListener()}cleanup(){this.pixelObserver.destroy(),delete this.pixelObserver,this.gravityFormsCleanup&&(this.gravityFormsCleanup(),delete this.gravityFormsCleanup)}setupGravityFormsListener(){if(CE2.w.jQuery){const t=(0,Yt.oI)(this,"onGravityFormSuccess");CE2.w.jQuery(CE2.d).on("gform_confirmation_loaded",t),this.gravityFormsCleanup=()=>{CE2.w.jQuery(CE2.d).off("gform_confirmation_loaded",t)}}}onHubSpotMessage(t){if(CE2.w.hubspot&&t.data&&"hsFormCallback"===t.data.type&&"onFormSubmitted"===t.data.eventName){const e=t.data.id;if(!e)return;const r={type:"submit",target:{matches:t=>{if(!t||"string"!=typeof t)return!1;const r=t.toLowerCase(),s=`hsform_${e}`.toLowerCase();return r.includes(`#${s}`)||r.includes(s)},closest:()=>null}};this.processFormSubmission(r)}}onGravityFormSuccess(t,e){if(!CE2.w.gform)return;if(!e)return;const r={type:"submit",target:{matches:t=>{if(!t||"string"!=typeof t)return!1;const r=t.toLowerCase(),s=`gform_${e}`.toLowerCase();return r.includes(`#${s}`)||r.includes(s)},closest:()=>null}};this.processFormSubmission(r)}processFormSubmission(t){Ge.r.alive(),this.goals.forEach((e=>{e.triggers.forEach((r=>{const s=r.filter.conditions.filter((t=>"form_submission"===t.criteria));0!==s.length&&this.matchGoal(e,r,s,"form_submission",t)}))}))}onClickOrSubmit(t){Ge.r.alive(),this.goals.forEach((e=>{e.triggers.forEach((r=>{const s=r.filter.conditions.filter((t=>"click"===t.criteria||"form_submission"===t.criteria));0!==s.length&&this.matchGoal(e,r,s,"click",t)}))}))}onUrlVisit(){this.goals.forEach((t=>{t.triggers.forEach((e=>{const r=e.filter.conditions.filter((t=>"url_visit"===t.criteria));0!==r.length&&this.matchGoal(t,e,r)}))}))}onPixelEvent(t){this.goals.forEach((e=>{e.triggers.forEach((r=>{const s=r.filter.conditions.filter((t=>"pixel_event"===t.criteria));0!==s.length&&this.matchGoal(e,r,s,"pixel_event",t)}))}))}onEcommerceEvent(t){this.goals.forEach((e=>{e.triggers.forEach((r=>{const s=r.filter.conditions.filter((t=>"ecommerce_event"===t.criteria));0!==s.length&&this.matchGoal(e,r,s,"ecommerce_event",t)}))}))}onGoalValueEvent(t){CE2.nextGoalConversionValue(t.goal.id,t.value,t.trigger.id)}matchGoal(t,e,r,s,i){if((0,Ke._9)(r,{operand:{event:i,goalId:t.id}})){let r;i?.detail?.value&&(r={worth:i.detail?.value,currency:i.detail?.currency||Ge.r.getCurrency()}),this.tracker.goalConversion({goalId:t.id,value:r,triggerId:e.id,skipSessionWorth:"ecommerce_event"===s})}}static onActivity(){const t=+new Date;Ye.lastActive&&t-Ye.lastActive<=1e4||(Ye.lastActive=t,Ge.r.alive())}static pixelApisFromGoals(t){if(!CE2.Native.Array.isArray(t))return[];const e=new Set;return t.forEach((t=>{t.triggers.forEach((t=>{t.filter.conditions.forEach((t=>{"pixel_event"===t.criteria&&t.values.forEach((t=>{t.api&&e.add(t.api)}))}))}))})),CE2.Native.Array.from(e)}}const ze=/[:@;%~='"\|\*\/\\\.\[\]\{\}\(\)]/g,Xe=/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/;function Qe(t){if(t instanceof DocumentFragment)return":scope";let e=[];const{id:r}=t;if(e.push(t.nodeName.toLowerCase()),r&&"string"==typeof r&&!/^\d/.test(r))e.push(`#${i=r,i.replace(ze,"\\$&").replace(/^\s+|\s+$/g,"")}`);else{const r=(s=t,[].slice.call(s.classList).filter((t=>t.match(Xe))).map((t=>`.${t}`)).join(""));r&&e.push(r)}var s,i;if(e=e.join(""),1===t.parentNode.querySelectorAll(e).length)return e;const n=function(t){const{children:e}=t.parentNode;let r=0;for(let s=0;s<e.length;s++){const i=e[s];if(i.tagName===t.tagName&&r++,i===t)return r}}(t);return`${t.nodeName.toLowerCase()}:nth-of-type(${n})`}function Je(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function Ze(t){const e=[],{body:r,documentElement:s}=t.ownerDocument;let i;if(t===r||t===s)return t.tagName.toLowerCase();if(t._ce_selector){const e=Je(t).querySelectorAll(t._ce_selector);if(1===e.length&&e[0]===t)return t._ce_selector}for(;t&&(e.unshift(Qe(t)),i=Je(t).querySelectorAll(e.join(" > ")),1!==i.length);t=t.parentNode);return t._ce_selector=e.join(" > ")}function tr(t){try{!t||t.isCensored||CE2.d.hidden||(t.ce||(t.ce={}),t.ce.imgScheduled||(t.ce.imgScheduled=!0,setTimeout((()=>{try{t.ce.imgScheduled=!1,t.toBlob((e=>{const r=new CE2.Native.URL(`/canvas-urls/${t.width}x${t.height}/${e.size}/${e.type&&e.type.replace("/",".")}`,CE2.d.baseURI).toString();t.ce.imgUrl=r,t.ce.blob=e,r!==t.getAttribute("ce-img-taken")&&t.setAttribute("ce-img-taken",r)}),"image/webp")}catch(t){(0,G.Yz)("error saving the canvas image",t)}}),1e3)))}catch(t){(0,G.Yz)("error saving the canvas image",t)}}function er(t){tr(t.canvas)}const rr=[{type:CE2.w.CanvasRenderingContext2D,methods:["stroke","fillText","strokeText","fillRect","drawImage","clearRect","translate","transform","fill","clear","rect","strokeRect","putImageData"]}],sr={track(){this.overridden||(rr.forEach((t=>{t.type&&t.methods&&t.methods.forEach((e=>{!function(t,e,r){const s=t.prototype[e];t.prototype[e]=function(...t){s.call(this,...t),r(this,e,...t)}}(t.type,e,er)}))})),CE2.d.querySelectorAll("canvas").forEach((t=>{tr(t)})),this.overridden=!0)}};const ir="ce_visit_timings";class nr{constructor(t){t===document?this.doc=t:(this.doc=t.shadowRoot,this.container=t),this.attachShadowListeners=[],this.patchAttachShadow(),this.onMutation=this._onMutation.bind(this),this.mutationObserver=new MutationObserver(this.onMutation),this.mutationObserver.observe(this.doc,{subtree:!0,childList:!0}),this.listeners=[],this.subMonitors=[],this.timeoutId=null,this.setupSubMonitors()}setupSubMonitors(){clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.subMonitors.filter((t=>!this.doc.contains(t.container))).forEach((t=>this.removeSubMonitor(t.container))),this.findAllContainers().map((t=>this.addSubMonitor(t)))}))}destroy(){clearTimeout(this.timeoutId),this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=null;for(let t=0,e=this.listeners;t<e.length;t++){const{event:r,callback:s,opt:i}=e[t];this.doc.removeEventListener(r,s,i)}for(let t=0,e=this.subMonitors;t<e.length;t++){e[t].destroy()}this.subMonitors=[],this.doc=null,this.container=null,this.listeners=[],this.attachShadowListeners=[]}findAllContainers(){return CE2.Native.Array.from(this.doc.querySelectorAll("*")).filter((t=>t.shadowRoot))}findMonitor(t){if(this.doc===t||this.doc.contains(t))return this;for(let e=0,r=this.subMonitors;e<r.length;e++){const s=r[e].findMonitor(t);if(s)return s}}attachShadow(t){const e=this.findMonitor(t);e&&e.addSubMonitor(t),this.attachShadowListeners.forEach((e=>{e(t)}))}onAttachShadow(t){this.attachShadowListeners.push(t)}_onMutation(){this.setupSubMonitors()}patchAttachShadow(){if(nr.patchedAttachShadow)return;const t=Element.prototype.attachShadow,e=this;Element.prototype.attachShadow=function(r){const s=t.call(this,r);return r&&"open"===r.mode&&e.attachShadow(this),s},nr.patchedAttachShadow=!0}addSubMonitor(t){if(!this.findSubMonitor(t)){const e=new nr(t);this.subMonitors.push(e);for(let t=0,r=this.listeners;t<r.length;t++){const s=r[t];e.addEventListener(s.event,s.callback,s.opt)}}}findSubMonitor(t){return this.subMonitors.find((e=>e.container===t))}removeSubMonitor(t){const e=Ht(this.subMonitors,(e=>e.container===t));e&&e.destroy()}addEventListener(t,e,r){this.listeners.push({event:t,callback:e,opt:r}),this.doc.addEventListener(t,e,r);for(let s=0,i=this.subMonitors;s<i.length;s++){i[s].addEventListener(t,e,r)}}removeEventListener(t,e,r){Ht(this.listeners,(s=>s.event===t&&s.callback===e&&s.opt===r)),this.doc.removeEventListener(t,e,r);for(let s=0,i=this.subMonitors;s<i.length;s++){i[s].removeEventListener(t,e,r)}}getComposedPath(t){const e=[];let r=t;for(;r;){if(e.push(r),r===document){e.push(window);break}if(r.parentNode)r=r.parentNode;else{const t=this.findMonitor(r);r=t&&t.container}}return e}}const or=new nr(document);CE2.ASSET_COLLECTOR_IGNORE_DOMAINS=["bat.bing.com","www.facebook.com/tr","www.google.","www.google-analytics.","ssl.google-analytics.","www.googletagmanager.","googleads.g","sp.analytics.yahoo.","heapanalytics.com","dev.visualwebsiteoptimizer.","b.6sc.co","hn.inspectlet.","d.adroll.","secure.adnxs.","match.adsrvr.","ads.travelaudience.","www.linkconnector.","px.ads.linkedin.","cdn.bizible.","ih.adscale.","rtb-csync.smartadserver.","x.bidswitch.net/sync","ad.doubleclick."];const ar={3:"Crazy Egg Bot",2:"Crazy Egg Bot (Mobile)",1:"Crazy Egg Bot"};class cr{constructor(t=null){if(t){this.storageKey=t;const e=CE2.Native.sessionStorageWrapper.read(this.storageKey);e&&(this.queue=CE2.Native.JSON.parse(e))}this.queue||(this.queue=[])}push(t){const e=[];for(let r=0;r<t.length;r++){const s=t[r];if(!s||!s.url)continue;const i=this.queue.findIndex((t=>t.url===s.url));if(i>=0)this.queue[i]=s;else{e.findIndex((t=>t.url===s.url))<0&&e.push(s)}}e.length&&(this.queue=this.queue.concat(e)),this.updateStorage()}fetch(t){const e=this.queue.splice(0,t);return this.updateStorage(),e}include(t){return this.queue.findIndex((e=>e.url===t))>-1}length(){return this.queue.length}updateStorage(){this.storageKey&&CE2.Native.sessionStorageWrapper.write(this.storageKey,CE2.Native.JSON.stringify(this.queue))}}class lr{constructor(t){this.tracker=t,this.OBSERVER_CACHE_KEY="ce_asset",this.LOCAL_CACHE_ASSET_MAX_SIZE=5e3,this.LOCAL_ASSET_OBSERVER_CACHE_KEY="ce_local_asset_cache",this.WAITING_QUEUE_KEY="ce_asset_waiting",this.SAMPLE_INTERVAL="undefined"==typeof CE_ASSET_COLLECTOR_INTERVAL?1e4:CE_ASSET_COLLECTOR_INTERVAL,this.URL_REGEX=/url\(["'](.+?)["']\)/,this.BATCH_SIZE=20;const e=new Set;for(let t=0,r=CE2.ASSET_COLLECTOR_IGNORE_DOMAINS;t<r.length;t++){const s=r[t];e.add(s)}for(let t=0,r=CE2.data.asset_collector_ignore||[];t<r.length;t++){const s=r[t];e.add(s)}this.IGNORE_DOMAINS=[],e.forEach((t=>{this.IGNORE_DOMAINS.push(t)}))}setup(){this.uri=new CE2.URL(CE2.w.location.toString()),this.setupObserverCache(),this.setupWorker(),this.schedulePerformanceObserver(),this.scheduleDataAndBlobCollection(1e3),this.collectCanvasImages()}cleanup(){this.performanceObserver&&(this.performanceObserver.disconnect(),delete this.performanceObserver),this.collectAssetsTimeout&&clearTimeout(this.collectAssetsTimeout),this.collectCanvasImagesTimeout&&clearTimeout(this.collectCanvasImagesTimeout),this.worker&&this.worker.terminate()}setupObserverCache(){const t=CE2.Native.sessionStorageWrapper.read(this.LOCAL_ASSET_OBSERVER_CACHE_KEY);this.observerCache=t?new fe(CE2.Native.JSON.parse(t)):new fe}addObserverCache(t){if(t&&t.length){for(let e=0;e<t.length;e++){const r=t[e];this.observerCache.add(r.cacheKey)}CE2.Native.sessionStorageWrapper.write(this.LOCAL_ASSET_OBSERVER_CACHE_KEY,CE2.Native.JSON.stringify(this.observerCache.items().slice(0,this.LOCAL_CACHE_ASSET_MAX_SIZE)))}}checkObserverCache(t){return this.observerCache.test(t)}collectCanvasImages(){const t=[];let e;for(let r=0,s=CE2.d.querySelectorAll("canvas[ce-img-taken]");r<s.length;r++){const i=s[r],{ce:n}=i;if(n&&n.imgUrl&&n.blob){const{blob:r,imgUrl:s}=n;e=this.prepareAsset(s,{source:"canvas"}),e&&(e.data=r,e.contentType=r.type,e.contentLength=r.size,t.push(e)),delete i.ce.blob}}this.queueForWorker(t),this.collectCanvasImagesTimeout=setTimeout((0,Yt.oI)(this,"collectCanvasImages"),500)}collectDataAndBlobAssets(){const t=[];let e;if(CE2.d.images)for(let r=0,s=CE2.d.images;r<s.length;r++){const i=s[r],n=i.currentSrc||i.src;this.isBlobOrDataUrl(n)&&(e=this.prepareAsset(n,{source:"images"}),e&&t.push(e))}if(CE2.d.styleSheets)for(let r=0,s=CE2.d.styleSheets;r<s.length;r++){const i=s[r];this.isBlobOrDataUrl(i.href)&&(e=this.prepareAsset(i.href,{source:"stylesheets"}),e&&t.push(e))}this.queueForWorker(t),this.scheduleDataAndBlobCollection(this.SAMPLE_INTERVAL)}schedulePerformanceObserver(){const t=CE2.w;t.performance&&t.performance.getEntriesByType&&(this.handlePerformanceEntries(t.performance.getEntriesByType("resource")),"undefined"!=typeof PerformanceObserver&&(this.performanceObserver=new PerformanceObserver((t=>{this.handlePerformanceEntries(t.getEntries())})),this.performanceObserver.observe({entryTypes:["resource"]})))}scheduleDataAndBlobCollection(t){this.collectAssetsTimeout=setTimeout((0,Yt.oI)(this,"collectDataAndBlobAssets"),t)}handlePerformanceEntries(t){const e=[];let r;const s=[];let i=!1;for(let n=0;n<t.length;n++){const o=t[n];let a=!1;"img"!==o.initiatorType&&"css"!==o.initiatorType||(a=!0);try{new URL(o.name).pathname.endsWith(".ttf")&&(a=!0)}catch(t){CE2.debugError(t)}"link"!==o.initiatorType&&"other"!==o.initiatorType||(i||([document.querySelectorAll("link[rel=stylesheet]"),document.querySelectorAll("link[rel~=preload][as=style]"),document.querySelectorAll("link[rel~=preload][as=font]"),document.querySelectorAll("link[rel~=preload][as=image]")].forEach((t=>t.forEach((t=>s.push(t.href))))),i=!0),s.includes(o.name)&&(a=!0)),a&&(r=this.prepareAsset(o.name,{source:"network"}),r&&e.push(r))}this.queueForWorker(e)}setupWorker(){if(!this.worker){if(this.workerQueue=new cr,this.workerWaitingQueue=new cr(this.WAITING_QUEUE_KEY),this.worker=(0,Yt.UO)("crazyegg-assets",(t=>{if("undefined"==typeof CE2libs)return void CE2.debug("[Tracker] CE2libs not available");const{assets:e,session:r,uid:s,origin:i,trackURL:n,trackingKey:o,userAgent:a}=t.data,c={session:r,uid:s,origin:i,assets:[],userAgent:a};for(let t=0;t<e.length;t++){const r=e[t],s={url:r.url};r.data&&(s.contentType=r.contentType,s.contentLength=r.contentLength,s.contentEncoding="gzip",r.contentType&&r.contentType.indexOf("text/css")>-1?s.digest=CE2libs.md5(r.data):s.digest=CE2libs.md5((new FileReaderSync).readAsText(r.data.slice(0,8e3)))),c.assets.push(s)}CE2.http.send(`${n}/assets?tk=${o}`,JSON.stringify(c),{contentType:"application/json",retry:5,callback:t=>{let r;if(200===t.status)r=JSON.parse(t.responseText);else{if(204!==t.status)return void postMessage({status:t.status,assets:e});r=[]}for(let t=0;t<e.length;t++){const s=e[t],i=r.find((t=>s.url===t.url));i?(s.status=i.status,s.s3=i.s3):(s.status=2,s.timestampEnd=+new Date,s.collector="s")}CE2.promisePool(e,2,(t=>new Promise((e=>{if(t.s3){const r=new CE2.FormData;for(let e=0,s=Object.keys(t.s3.fields);e<s.length;e++){const i=s[e];r.append(i,t.s3.fields[i])}let s=t.data;t.data instanceof Blob&&(s=new Uint8Array((new FileReaderSync).readAsArrayBuffer(s))),r.append("file",CE2libs.compress(s)),CE2.http.send(t.s3.url,r,{retry:5,callback:()=>{t.status=2,t.timestampEnd=+new Date,t.collector="c",e(t)}})}else e(t)})))).then((()=>{postMessage({status:"ok",assets:e})})).catch((t=>{CE2.debugError(t)}))}})}),!0),!this.worker)return;this.worker.onmessage=t=>{const e=[],r=[],s=[];"ok"!==t.data.status&&CE2.debug("[Tracker] Assets api unavailable",t.data.status);for(let i=0,n=t.data.assets;i<n.length;i++){const t=n[i];1===t.status?(void 0===t.waiting?t.waiting=0:t.waiting+=1,e.push(t)):3===t.status||4===t.status&&CE2.data.recordings_2_cors_collect?(t.corsSafe=!0,r.push(t)):s.push(t)}e.length&&this.workerWaitingQueue.push(e),this.addObserverCache(r),this.addObserverCache(s),(0,Yt.jI)("assets-debug-event")&&this.sendEvent(t.data.assets),r.length?this.runWorker(r):this.workerQueue.length()>0?this.runWorker():setTimeout((0,Yt.oI)(this,"runWorker"),this.SAMPLE_INTERVAL)},this.runWorker()}}queueForWorker(t){t.length&&this.workerQueue.push(t)}runWorker(t){let e=t;e&&e.length||(e=this.workerQueue.fetch(this.BATCH_SIZE),e.length||(e=this.workerWaitingQueue.fetch(this.BATCH_SIZE))),e.length?this.fetchAssetsData(e).then((t=>{this.worker.postMessage({assets:t,session:this.tracker.session.id,uid:CE2.data.uid,origin:`${CE2.w.location.protocol}//${CE2.w.location.host}`,trackURL:this.tracker.trackURL,trackingKey:CE2.data.tracking_key,userAgent:CE2.data.explicit_agent&&ar[CE2.clock.getDeviceType()]||""})})).catch((t=>{CE2.debugError(t)})):setTimeout((0,Yt.oI)(this,"runWorker"),this.SAMPLE_INTERVAL)}isBlobUrl(t){return 0===t.indexOf("blob:")}fetchAssetsData(t){return new Promise((e=>{CE2.promisePool(t,2,(t=>new Promise((e=>{if(!t.data&&t.corsSafe){let r=t.originalUrl;if(!t.local){const t=new CE2.URL(r);t.query=t.query&&t.query.length?`${t.query}&`:"",t.query+="ce=true",r=t.getFullUrl()}try{CE2.http.get(r,(r=>{200===r.status&&r.response?(t.data=r.response,t.contentType=r.getResponseHeader("Content-Type"),t.contentLength=r.response.size?r.response.size:parseInt(r.getResponseHeader("Content-Length"),10)):t.failed=!0,e(t)}),"blob")}catch(r){t.failed=!0,e(t)}}else e(t)})))).then((t=>{const r=[],s=[];for(let e=0;e<t.length;e++){const i=t[e];i.failed||i.local&&!i.data?s.push(i):r.push(i)}this.addObserverCache(s),e(r)}))}))}localUrl(t){return!!this.isBlobUrl(t)||this.uri.sameOrigin(t)}prepareAsset(t,e){const r={originalUrl:t,source:e.source,timestamp:+new Date},s=new CE2.URL(e.baseUrl||CE2.d.baseURI);if(!t||"images"!==r.source&&0===t.indexOf("data:"))return;if(this.IGNORE_DOMAINS)for(let e=0,r=this.IGNORE_DOMAINS;e<r.length;e++){const s=r[e];if(t.indexOf(s)>=0)return}let i=t;this.isBlobUrl(t)&&(i=t.replace("blob:","")),0===t.indexOf("data:")&&(i=`${CE2.w.location.protocol}//${CE2.w.location.host}/data-urls/${t.length}`),0===i.indexOf("//")&&(i=`${s.protocol}:${i}`);let n=new CE2.URL(i);n.host||(n=s.join(n)),n.normalize();const o=n.getFullUrl();return"http"!==n.protocol&&"https"!==n.protocol||this.checkObserverCache(o)||this.workerWaitingQueue.include(o)?void 0:(r.url=n.getFullUrl(),r.cacheKey=o,this.localUrl(r.url)&&(r.local=!0,r.corsSafe=!0),r)}isBlobOrDataUrl(t){return t&&(t.indexOf("blob:")>=0||t.indexOf("data:")>=0)}sendEvent(t){const e=[];for(let r=0;r<t.length;r++){const s=t[r];if(1===s.status&&s.waiting>0)continue;const i=[s.url,s.status,s.timestamp];s.timestampEnd&&(i.push(s.timestampEnd),i.push(s.collector)),e.push(i)}if(!e.length)return;const r=[this.tracker.visitID,e],s=this.tracker.newEvent(CE2.eventTypes.ASSETS,{attributes:r});this.tracker.send(s)}}const hr={Click:class{constructor(t){this.tracker=t,this.opaqueElement=null,this.lastClicked=null,this.ignoredElements=CE2.state.ignoredElements.concat([...CE2.d.body.getElementsByClassName("-ce-ignore")]),this.resetLimitCount(),this.tracker.addEventListener("mousedown",qt(this,"onClick")),this.tracker.addEventListener("change",qt(this,"onChange"));for(let t=0,e=CE2.d.querySelectorAll("OBJECT, EMBED");t<e.length;t++){const r=e[t],s=CE2.fp.getBox(r);s.width>1&&s.height>1&&(this.tracker.addEventListener("mouseover",qt(this,"onOver"),r),this.tracker.addEventListener("mouseout",qt(this,"onOut"),r))}for(let t=0,e=CE2.d.querySelectorAll("FRAME, IFRAME");t<e.length;t++){const r=e[t];if(jt(r))this.tracker.addEventListener("mousedown",qt(this,"onClickFrame"),CE2.ieVersion<9?r.contentWindow.document:r.contentWindow);else{const t=CE2.fp.getBox(r);t.width>1&&t.height>1&&(this.tracker.addEventListener("mouseover",qt(this,"onOver"),r),this.tracker.addEventListener("mouseout",qt(this,"onOut"),r))}}this.tracker.addEventListener("blur",qt(this,"onBlur")),this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",qt(this,"onUnload"))}update(){this.resetLimitCount()}cleanup(){delete this.lastClicked,delete this.lastClickedTime,delete this.ignoredElements,this.resetLimitCount()}resetLimitCount(){this.clickTotal=0}overLimit(){return!!(0,Yt.jI)("per-visit-event-limit")&&this.clickTotal>100}onChange(t){if(t.target&&"SELECT"===t.target.tagName){this.tracker.onActivity();for(let e=0,r=t.target.querySelectorAll("option");e<r.length;e++){const t=r[e];t.selected&&this.click(t,null,null,"l")}}}onClick(t,e){if(this.tracker.onActivity(),this.clickTotal+=1,this.overLimit())return;const r=Wt(t);if(e){const e=function(t){return t.source||t.view||t.srcElement.ownerDocument.parentWindow}(t),s=e.frameElement;this.click(...[s].concat(Gt(t,e)).concat(r,t))}else{const e=this.tracker.formatVersion>=13?$t(t):t.srcElement||t.target;if("OPTION"===e.tagName&&e.parentElement&&"SELECT"===e.parentElement.tagName)return;this.click(e,null,null,r,t)}}onBlur(){const t=this.opaqueElement;t&&t!==this.lastClicked&&(this.click(t),this.opaqueElement=null)}onUnload(){const t=this.opaqueElement;t&&this.isIgnored(t)&&(this.click(t),this.opaqueElement=null)}onClickFrame(t){this.onClick(t,!0)}onOver(t){const e=t.srcElement||t.target;this.isIgnored(e)||(this.opaqueElement=e)}onOut(t){this.isIgnored(t.srcElement||t.target)||(this.opaqueElement=null)}click(t,e,r,s,i){if(this.isTopLevelElement(t)||this.isIgnored(t))return;if(t=this.tracker.getElementToRecord(t),Kt(t))return;const n=this.tracker.getFingerprint(t),o=this.getClickPosition(e,r,n,i);o.button=s,"l"===s&&(o.clickType=this.getClickType(i)),this.lastClicked=t;const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(n),o.x,o.y,o.button,o.pageX,o.pageY,o.clickType],c=this.tracker.newEvent(CE2.eventTypes.CLICK,{attributes:a});this.tracker.send(c)}getClickPosition(t,e,r,s){let i;const n={x:t||0,y:e||0,pageX:0,pageY:0};return s&&(s.srcElement||s.target)?(t||(i=Gt(s),n.x=i[0]-r.pageX,n.y=i[1]-r.pageY),n.pageX=s.pageX,n.pageY=s.pageY):t&&e?(n.x=t,n.y=e):s||(n.x=n.pageX=r.width/2,n.y=n.pageY=r.height/2),n}getClickType(t){if(!t)return"";const e=$t(t),r=this.isClickableElement(e);let s="";return r||(s+=CE2.clickTypes.NOT_CLICKABLE),this.rageClick(t,e,r)&&(s+=CE2.clickTypes.RAGE,this.tracker.rageClick()),r&&this.authenticationButton(e)&&(s+=CE2.clickTypes.AUTH_BUTTON),s||void 0}rageClick(t,e,r){if(!t)return!1;if(t.timeStamp===this.lastEventTimeStamp)return this.lastRageValue;let s=!1;if(t.detail>2)s=!0;else if(this.lastClickedTime){const i=+new Date-this.lastClickedTime;(r&&this.lastClickedElement===e&&2!==t.detail||!r)&&i<3e3&&(s=!0)}return this.lastClickedTime=+new Date,this.lastEventTimeStamp=t.timeStamp,this.lastRageValue=s,this.lastClickedElement=e,s}authenticationButton(t){if(t.innerText){const e=t.innerText.trim().toLowerCase(),r=["sign in with","register with","authorize","join with"].some((t=>new RegExp(`^${t}`).test(e)));return!!r||["sign in","signin","signup","sign up","register","login","create account","register account","join","join us"].some((e=>e===t.innerText.trim().toLowerCase()))}}isClickableElement(t){const e=["a","a *","button","button *","input","option","select"].join(",");if((0,Yt.B5)(t,e))return!0;const r=getComputedStyle(t);return"pointer"===r.cursor||"text"===r.cursor||"underline"===r.textDecoration}isTopLevelElement(t){return t===document||t===document.body||t===document.documentElement}isIgnored(t){return(0,Yt.DQ)(this.ignoredElements,t)}},PageState:class{constructor(t){this.tracker=t,this.pageStateCapturing=!1}update(t){if(this.prevState=null,t&&this.pageStateCapturing&&(CE2.pageState.stopCapture(),this.pageStateCapturing=!1),!this.pageStateCapturing){(0,Yt.jI)("v11_canvas_tracking")&&sr.track();try{CE2.pageState.startCapture(this.captureOptions()),this.pageStateCapturing=!0}catch(t){this.tracker.pageStateError(t)}}}cleanup(){this.pageStateCapturing&&CE2.pageState.stopCapture()}trigger(t,e,r,s,i,n){if(!this.prevState||this.prevState.pageUrl!==t||this.prevState.md5!==r){const o=[i||this.tracker.visitID,t,r,e,n],a=this.tracker.newEvent(CE2.eventTypes.PAGE_STATE,{timestamp:s,attributes:o});this.tracker.send(a,{timestamp:s}),this.prevState={pageUrl:t,md5:r}}}captureOptions(){const{tracker:t}=this;return{uid:CE2.data.uid,trackURL:t.trackURL,getVisitId:()=>t.visitID,getUrl:()=>t.url,onPageState:(...e)=>t.pageState(...e),onPageStateError:(...e)=>t.pageStateError(...e),censoredElements:t.censoredElements,hideIframes:t.hideIframes,disableMasking:!!CE2.data.disable_recordings_masking,disableEmailMasking:!!CE2.data.disable_recordings_email_masking,stylesheetPerformance:(0,Yt.jI)("v11_page_state_performance")}}},Error:Ee,Scroll:class{constructor(t){this.tracker=t,this.scrollTracker=new Te,this.trackScrollInterval=setInterval((0,Yt.oI)(this,"trackScroll"),100),this.foundAnchorBind=(0,Yt.oI)(this,"foundAnchor"),this.resetLimitCount()}update(){this.resetLimitCount()}cleanup(){clearInterval(this.trackScrollInterval),delete this.scrollTracker,delete this.foundAnchorBind,this.resetLimitCount()}trackScroll(){if(this.overLimit())return;const t=CE2.fp.scroll();this.scrollTracker?.shouldRecordScroll(t)&&this.scrollTracker.findAnchor(t,this.foundAnchorBind)}foundAnchor(t,e){const r=t.top,s=t.height;let i,n,o;this.scrollTotal+=1,e&&(e=this.tracker.getElementToRecord(e),i=this.tracker.getFingerprint(e),n=t.top-i.pageY,o=t.top+t.height-i.pageY);const a=[this.tracker.visitID,...this.tracker.getFingerprintAttributes(i,{blank:["name"]}),r,s,n,o],c=this.tracker.newEvent(CE2.eventTypes.SCROLL,{attributes:a});this.tracker.send(c)}resetLimitCount(){this.scrollTotal=0}overLimit(){return!!(0,Yt.jI)("per-visit-event-limit")&&this.scrollTotal>=1e3}},Ecommerce:se,GoalConversion:Ye,ExcessiveScroll:class{constructor(t){this.tracker=t,this.timeout=CE2.EXCESSIVE_SCROLL_TIMEOUT,this.isTriggered=!1,this.isScrolledDown=!1,this.scrollTracker=new Te,this.viewport=null,setTimeout((0,Yt.oI)(this,"cleanup"),this.timeout),this.trackScrollInterval=setInterval((0,Yt.oI)(this,"trackScroll"),500),this.foundAnchorBind=(0,Yt.oI)(this,"foundAnchor")}cleanup(){clearInterval(this.trackScrollInterval),this.isTriggered=!1,this.isScrolledDown=!1,this.viewport=null,delete this.scrollTracker,delete this.foundAnchorBind}trackScroll(){const t=CE2.fp.scroll();this.scrollTracker?.findAnchor(t,this.foundAnchorBind)}foundAnchor(t,e){if(this.isTriggered)return;const r=this.anchorViewport(t,e),s=r.viewportTop/r.viewportHeight*100;this.isScrolledDown?s<=80&&(this.sendEvent(this.viewport),this.isTriggered=!0):s>90&&(this.viewport=r,this.isScrolledDown=!0)}anchorViewport(t,e){const r=t.top,s=t.height;let i,n,o;return e&&(e=this.tracker.getElementToRecord(e),i=this.tracker.getFingerprint(e),n=t.top-i.pageY,o=t.top+t.height-i.pageY),{viewportTop:r,viewportHeight:s,viewportTopDistance:n,viewportBottomDistance:o}}sendEvent({viewportTop:t,viewportHeight:e,viewportTopDistance:r,viewportBottomDistance:s}){const i=[this.tracker.visitID,t,e,r,s],n=this.tracker.newEvent(CE2.eventTypes.EXCESSIVE_SCROLL,{attributes:i});this.tracker.send(n),this.tracker.addTag("excessive scroll")}},MouseMovement:class{constructor(t){CE2BH.defineProperty(this,"mouseEventTypes",{movement:"m",mouseup:"u",mousedown:"d"}),this.tracker=t,this.mousePos=null,this.mousePositions=[],this.tracker.addEventListener("mousemove",(0,Yt.oI)(this,"mousemove")),this.tracker.addEventListener("mouseup",(0,Yt.oI)(this,"mouseup")),this.tracker.addEventListener("mousedown",(0,Yt.oI)(this,"mousedown")),this.tracker.addSampleCallback((0,Yt.oI)(this,"sample")),this.tracker.addDiffCallback((0,Yt.oI)(this,"diff"))}overLimit(){const t=this.tracker?.eventHandlers?.click;return t?.overLimit()}cleanup(){}mousedown(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.mousedown);e&&(this.mousePos=e,this.sample())}mouseup(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.mouseup);e&&(this.mousePos=e,this.sample())}mousemove(t){if(!t)return;this.tracker.onActivity();const e=this.buildMouseEvent(t,this.mouseEventTypes.movement);e&&(this.mousePos=e)}sample(){try{const{mousePos:t}=this;if(t){const e=this.mousePositions[this.mousePositions.length-1];if(e&&((t,e)=>{const r=Object.getOwnPropertyNames(t),s=Object.getOwnPropertyNames(e);if(r.length!=s.length)return!1;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i])return!1}return!0})(t.fingerprint,e.fingerprint)){const e=t.movements[0];this.mousePositions[this.mousePositions.length-1].movements.push(e)}else this.mousePositions.push(t);delete this.mousePos}}catch(t){(0,me.A)(t)}}diff(){try{if(this.overLimit())return;if(this.mousePositions.length>0){const t=[];for(let e=0,r=this.mousePositions;e<r.length;e++){const s=r[e],i=[];for(let t=0,e=s.movements;t<e.length;t++){const r=e[t];let s;"m"===r.type?s=[r.relativeX,r.relativeY,r.timestamp,r.pageX,r.pageY,r.type]:"u"!==r.type&&"d"!==r.type||(s=[r.relativeX,r.relativeY,r.timestamp,r.pageX,r.pageY,r.type,r.button,r.clickType]),i.push(s)}const n=[s.movements.length,i,s.selector];t.push(n)}const e=[this.tracker.visitID,"v2",t],r=this.tracker.newEvent(CE2.eventTypes.MOUSE_MOVEMENT,{attributes:e});this.tracker.send(r),this.mousePositions=[]}}catch(t){(0,me.A)(t)}}buildMouseEvent(t,e){try{if(e===this.mouseEventTypes.mousedown||e===this.mouseEventTypes.mouseup){const{fp:r,selector:s}=this.lastPosition,i=CE2BH.extends({},this.lastPosition.movementData,{type:e,timestamp:+new Date}),n=Wt(t);return i.button=n,"l"===n&&e===this.mouseEventTypes.mousedown&&this.tracker.eventHandlers.click&&(i.clickType=this.tracker.eventHandlers.click.getClickType(t)),{fingerprint:r,selector:s,movements:[i]}}const r=document.elementFromPoint(t.clientX,t.clientY);if(r&&r.getBoundingClientRect){const s=r.getBoundingClientRect(),i=this.tracker.getFingerprint(r),n=t.clientX-(s.x||s.left),o=t.clientY-(s.y||s.top),a=(n/s.width*100).toFixed(4),c=(o/s.height*100).toFixed(4),l=t.pageX||0,h=t.pageY||0,u={relativeX:a,relativeY:c,timestamp:+new Date,pageX:l,pageY:h,type:e},d=Ze(r);return this.lastPosition={fp:i,movementData:u,selector:d},{fingerprint:i,selector:d,movements:[u]}}}catch(t){(0,me.A)(t)}}},Performance,Form:Ie,Typing:class{constructor(t){CE2BH.defineProperty(this,"LIMIT_BETWEEN_TYPE_EVENTS",6e4),this.tracker=t,this.tracker.addEventListener("keydown",(0,Yt.oI)(this,"onKeydown"))}update(){delete this.formEntry}onKeydown(t){this.tracker.onActivity();const e=t.target,r=+new Date;if((0,Yt.B5)(e,"input, [contenteditable]")&&("INPUT"!==e.tagName||!["submit","reset","button"].some((t=>t===e.type&&e.type.toLowerCase())))&&(this.lastTypedElement!==e||this.lastTypedTime-r>this.LIMIT_BETWEEN_TYPE_EVENTS)){const t=(0,Yt.B5)(e,"form *"),s=[this.tracker.visitID,t],i=this.tracker.newEvent(CE2.eventTypes.TYPING,{attributes:s});this.tracker.send(i),t&&(this.formEntry=r)}this.lastTypedElement=e,this.lastTypedTime=e}},SessionScroll:class{constructor(t){this.tracker=t,this.scrolls=[],this.calculateInitialScrolls(),this.tracker.addEventListener("scroll",(0,Yt.oI)(this,"onScroll"),or),this.tracker.addDiffCallback((0,Yt.oI)(this,"diff"))}onScroll(t){if(this.tracker.onActivity(),this.overLimit())return;let e=t.target;e===CE2.d&&(e=CE2.d.scrollingElement);const r=t.composed&&t.composedPath();this.bufferScrollFor(e,r)}bufferScrollFor(t,e=null){const r=function(t,e=null){if(!e)return[Ze(t)];const r=[[]];for(let t=0;t<e.length;t++){const s=e[t];r[0].push(s),s.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.unshift([])}return r.map((t=>Ze(t[0])))}(t,e||or.getComposedPath(t)),s=this.scrollKey(r),i=this.scrolls.find((t=>this.scrollKey(t[0])===s)),n=Date.now(),o=this.recordScrollOfElement(t);if(i){const e=i[1],r=e[e.length-1];n-r[2]>this.tracker.SAMPLE_INTERVAL?e.push(o):(r[0]=t.scrollTop,r[1]=t.scrollLeft)}else this.scrolls.push([r,[o]])}recordScrollOfElement(t){return[t.scrollTop,t.scrollLeft,+new Date]}diff(){try{if(this.scrolls.length>0){const t=[this.tracker.visitID,this.scrolls],e=this.tracker.newEvent(CE2.eventTypes.SESSION_SCROLL,{attributes:t});this.tracker.send(e),this.scrolls=[]}}catch(t){(0,me.A)(t)}}scrollKey(t){return t.join("→")}calculateInitialScrolls(){const t=CE2.d.querySelectorAll("html, body, body *");for(let e=0;e<t.length;e++){const r=t[e];(r.scrollTop||r.scrollLeft)&&this.scrolls.push([[Ze(r)],[this.recordScrollOfElement(r)]])}this.diff()}overLimit(){const t=this.tracker?.eventHandlers?.scroll;return t?.overLimit()}},QuickBack:class{constructor(t){this.tracker=t,this.isReloadedVisit=CE2.w.performance?.getEntriesByType("navigation").map((t=>t.type)).includes("reload")}update(t,e){if(this.isReloadedVisit)return;const{pathname:r}=CE2.w.location;if(!this.visitPath||e){this.visitPath=r,this.currentVisit=this.getVisitTiming(r)||{};const t=+new Date;if(this.currentVisit&&this.currentVisit.endTime&&this.currentVisit.endTime-t<2e4){const t=[this.tracker.visitID],e=this.tracker.newEvent(CE2.eventTypes.QUICKBACK,{attributes:t});this.tracker.send(e)}this.isReloadedVisit=!1}}unload(){return this.currentVisit&&(this.currentVisit.endTime=+new Date,this.putVisitTiming(this.visitPath,this.currentVisit)),!1}putVisitTiming(t,e){const r=this.getVisitsTimings();r[t]=e,CE2.Native.sessionStorageWrapper.write(ir,CE2.Native.JSON.stringify(r))}getVisitTiming(t){return this.getVisitsTimings()[t]}getVisitsTimings(){return CE2.Native.JSON.parse(CE2.Native.sessionStorageWrapper.read(ir)||"{}")}},Resize:class{constructor(t){this.tracker=t,this.browserSizes=[],this.tracker.addSampleCallback((0,Yt.oI)(this,"sample")),this.tracker.addDiffCallback((0,Yt.oI)(this,"diff"))}sample(){try{const t=CE2.w,e=t.innerWidth||t.screen.availWidth,r=t.innerHeight||t.screen.availHeight,{lastBrowserSize:s}=this;if(s&&s[0]===e&&s[1]===r)return;if(Vt&&s&&s[0]===e&&s[1]!==r)return;this.lastBrowserSize=[e,r,+new Date],this.browserSizes.push(this.lastBrowserSize)}catch(t){(0,me.A)(t)}}diff(){try{if(this.browserSizes.length>0){const t=[this.tracker.visitID,this.browserSizes],e=this.tracker.newEvent(CE2.eventTypes.RESIZE,{attributes:t});this.tracker.send(e),this.browserSizes=[]}}catch(t){(0,me.A)(t)}}},Activity:class{constructor(t){CE2BH.defineProperty(this,"ACTIVITY_WINDOW",1e4),CE2BH.defineProperty(this,"INACTIVE_TIME_LIMIT",9e4),this.tracker=t,this.trigger()}update(){this.trigger()}trigger(){const t=+new Date;if(this.lastActive){const e=t-this.lastActive;if(e>this.INACTIVE_TIME_LIMIT){const t=[this.tracker.visitID,e],r=this.tracker.newEvent(CE2.eventTypes.INACTIVE,{attributes:t});this.tracker.send(r,{timestamp:this.lastActive})}}const e=this.lastActive&&t-this.lastActive;e&&e<=this.ACTIVITY_WINDOW||(this.lastActive=t,this.tracker.session&&this.tracker.session.alive())}},Visibility:class{constructor(t){this.tracker=t,this.tracker.addEventListener("visibilitychange",(0,Yt.oI)(this,"onVisibilitychange"))}onVisibilitychange(){if(this.tracker.pageUnloading)return;const t=!document.hidden;if(this.tracker.isDocumentHiddenOnce||(this.tracker.isDocumentHiddenOnce=document.hidden),this.pageVisibility!==t){this.pageVisibility=t;const e=[this.tracker.visitID,t],r=this.tracker.newEvent(CE2.eventTypes.PAGE_VISIBILITY,{attributes:e});this.tracker.send(r),this.tracker.processBuffer({sendBeacon:!0})}}},Metric:class{constructor(t){this.tracker=t,this.tracker.addEventListener(CE2.opera?"unload":"beforeunload",(0,Yt.oI)(this,"onUnload"))}trigger(t,e){if(t.length>100)throw new Error("Key is too long (max 100)");if((e=Number(e,10))&&Number.isNaN(Number(e)))throw new Error("Value is NaN");const r=[this.tracker.visitID,t,e||""],s=this.tracker.newEvent(CE2.eventTypes.CUSTOM_PERFORMANCE,{attributes:r});this.tracker.send(s)}onUnload(){if(Object.keys(W.metrics).length)for(let t=0,e=Object.keys(W.metrics);t<e.length;t++){const r=e[t];this.trigger(r)}}}},ur={getBox:E,scroll:h,fingerprint2:function(t,e={}){return new V(t,e)}}}},t=>{t.O(0,[76],(()=>{return e=5096,t(t.s=e);var e}));var e=t.O(),r=CE2="undefined"==typeof CE2?{}:CE2;for(var s in e)r[s]=e[s];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})}]);